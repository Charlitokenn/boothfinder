"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_mappedin_react-sdk_lib_esm_GLTFExporter-W4OR66GG_js"],{

/***/ "(app-pages-browser)/./node_modules/@mappedin/react-sdk/lib/esm/GLTFExporter-W4OR66GG.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@mappedin/react-sdk/lib/esm/GLTFExporter-W4OR66GG.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GLTFExporter: () => (/* binding */ P)\n/* harmony export */ });\n/* harmony import */ var _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-6X6EHSZ7.js */ \"(app-pages-browser)/./node_modules/@mappedin/react-sdk/lib/esm/chunk-6X6EHSZ7.js\");\n/* harmony import */ var _chunk_5SHMBNLX_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-5SHMBNLX.js */ \"(app-pages-browser)/./node_modules/@mappedin/react-sdk/lib/esm/chunk-5SHMBNLX.js\");\n/* harmony import */ var _chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-PEDEW3M6.js */ \"(app-pages-browser)/./node_modules/@mappedin/react-sdk/lib/esm/chunk-PEDEW3M6.js\");\n(0,_chunk_5SHMBNLX_js__WEBPACK_IMPORTED_MODULE_1__.a)();var Ye={POSITION:[\"byte\",\"byte normalized\",\"unsigned byte\",\"unsigned byte normalized\",\"short\",\"short normalized\",\"unsigned short\",\"unsigned short normalized\"],NORMAL:[\"byte normalized\",\"short normalized\"],TANGENT:[\"byte normalized\",\"short normalized\"],TEXCOORD:[\"byte\",\"byte normalized\",\"unsigned byte\",\"short\",\"short normalized\",\"unsigned short\"]},ae=class ae{constructor(){this.textureUtils=null,this.pluginCallbacks=[],this.register(function(e){return new q(e)}),this.register(function(e){return new X(e)}),this.register(function(e){return new Q(e)}),this.register(function(e){return new $(e)}),this.register(function(e){return new ee(e)}),this.register(function(e){return new se(e)}),this.register(function(e){return new W(e)}),this.register(function(e){return new J(e)}),this.register(function(e){return new Z(e)}),this.register(function(e){return new te(e)}),this.register(function(e){return new ne(e)}),this.register(function(e){return new ie(e)}),this.register(function(e){return new re(e)}),this.register(function(e){return new oe(e)})}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}setTextureUtils(e){return this.textureUtils=e,this}parse(e,s,n,t){let i=new j,r=[];for(let o=0,a=this.pluginCallbacks.length;o<a;o++)r.push(this.pluginCallbacks[o](i));i.setPlugins(r),i.setTextureUtils(this.textureUtils),i.writeAsync(e,s,t).catch(n)}parseAsync(e,s){let n=this;return new Promise(function(t,i){n.parse(e,t,i,s)})}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(ae,\"GLTFExporter\");var P=ae,g={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},Y=\"KHR_mesh_quantization\",N={};N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.j]=g.NEAREST;N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.k]=g.NEAREST_MIPMAP_NEAREST;N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.l]=g.NEAREST_MIPMAP_LINEAR;N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.m]=g.LINEAR;N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.n]=g.LINEAR_MIPMAP_NEAREST;N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.o]=g.LINEAR_MIPMAP_LINEAR;N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.h]=g.CLAMP_TO_EDGE;N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.g]=g.REPEAT;N[_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.i]=g.MIRRORED_REPEAT;var Ke={scale:\"scale\",position:\"translation\",quaternion:\"rotation\",morphTargetInfluences:\"weights\"},Qe=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.W,je=12,$e=1179937895,es=2,qe=8,ss=1313821514,ts=5130562;function B(c,e){return c.length===e.length&&c.every(function(s,n){return s===e[n]})}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(B,\"equalArray\");function ns(c){return new TextEncoder().encode(c).buffer}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(ns,\"stringToArrayBuffer\");function is(c){return B(c.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(is,\"isIdentityMatrix\");function rs(c,e,s){let n={min:new Array(c.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(c.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let t=e;t<e+s;t++)for(let i=0;i<c.itemSize;i++){let r;c.itemSize>4?r=c.array[t*c.itemSize+i]:(i===0?r=c.getX(t):i===1?r=c.getY(t):i===2?r=c.getZ(t):i===3&&(r=c.getW(t)),c.normalized===!0&&(r=_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.H.normalize(r,c.array))),n.min[i]=Math.min(n.min[i],r),n.max[i]=Math.max(n.max[i],r)}return n}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(rs,\"getMinMax\");function Je(c){return Math.ceil(c/4)*4}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(Je,\"getPaddedBufferSize\");function K(c,e=0){let s=Je(c.byteLength);if(s!==c.byteLength){let n=new Uint8Array(s);if(n.set(new Uint8Array(c)),e!==0)for(let t=c.byteLength;t<s;t++)n[t]=e;return n.buffer}return c}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(K,\"getPaddedArrayBuffer\");function Xe(){return typeof document>\"u\"&&typeof OffscreenCanvas<\"u\"?new OffscreenCanvas(1,1):document.createElement(\"canvas\")}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(Xe,\"getCanvas\");function We(c,e){if(c.toBlob!==void 0)return new Promise(n=>c.toBlob(n,e));let s;return e===\"image/jpeg\"?s=.92:e===\"image/webp\"&&(s=.8),c.convertToBlob({type:e,quality:s})}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(We,\"getToBlobPromise\");var ce=class ce{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:\"2.0\",generator:\"THREE.GLTFExporter r\"+_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.a}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map},this.textureUtils=null}setPlugins(e){this.plugins=e}setTextureUtils(e){this.textureUtils=e}async writeAsync(e,s,n={}){this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},n),this.options.animations.length>0&&(this.options.trs=!0),await this.processInputAsync(e),await Promise.all(this.pending);let t=this,i=t.buffers,r=t.json;n=t.options;let o=t.extensionsUsed,a=t.extensionsRequired,l=new Blob(i,{type:\"application/octet-stream\"}),h=Object.keys(o),u=Object.keys(a);if(h.length>0&&(r.extensionsUsed=h),u.length>0&&(r.extensionsRequired=u),r.buffers&&r.buffers.length>0&&(r.buffers[0].byteLength=l.size),n.binary===!0){let w=new FileReader;w.readAsArrayBuffer(l),w.onloadend=function(){let f=K(w.result),p=new DataView(new ArrayBuffer(qe));p.setUint32(0,f.byteLength,!0),p.setUint32(4,ts,!0);let d=K(ns(JSON.stringify(r)),32),y=new DataView(new ArrayBuffer(qe));y.setUint32(0,d.byteLength,!0),y.setUint32(4,ss,!0);let M=new ArrayBuffer(je),b=new DataView(M);b.setUint32(0,$e,!0),b.setUint32(4,es,!0);let D=je+y.byteLength+d.byteLength+p.byteLength+f.byteLength;b.setUint32(8,D,!0);let x=new Blob([M,y,d,p,f],{type:\"application/octet-stream\"}),A=new FileReader;A.readAsArrayBuffer(x),A.onloadend=function(){s(A.result)}}}else if(r.buffers&&r.buffers.length>0){let w=new FileReader;w.readAsDataURL(l),w.onloadend=function(){let f=w.result;r.buffers[0].uri=f,s(r)}}else s(r)}serializeUserData(e,s){if(Object.keys(e.userData).length===0)return;let n=this.options,t=this.extensionsUsed;try{let i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){s.extensions===void 0&&(s.extensions={});for(let r in i.gltfExtensions)s.extensions[r]=i.gltfExtensions[r],t[r]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(s.extras=i)}catch(i){console.warn(\"THREE.GLTFExporter: userData of '\"+e.name+\"' won't be serialized because of JSON.stringify error - \"+i.message)}}getUID(e,s=!1){if(this.uids.has(e)===!1){let t=new Map;t.set(!0,this.uid++),t.set(!1,this.uid++),this.uids.set(e,t)}return this.uids.get(e).get(s)}isNormalizedNormalAttribute(e){if(this.cache.attributesNormalized.has(e))return!1;let n=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Q;for(let t=0,i=e.count;t<i;t++)if(Math.abs(n.fromBufferAttribute(e,t).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(e){let s=this.cache;if(s.attributesNormalized.has(e))return s.attributesNormalized.get(e);let n=e.clone(),t=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Q;for(let i=0,r=n.count;i<r;i++)t.fromBufferAttribute(n,i),t.x===0&&t.y===0&&t.z===0?t.setX(1):t.normalize(),n.setXYZ(i,t.x,t.y,t.z);return s.attributesNormalized.set(e,n),n}applyTextureTransform(e,s){let n=!1,t={};(s.offset.x!==0||s.offset.y!==0)&&(t.offset=s.offset.toArray(),n=!0),s.rotation!==0&&(t.rotation=s.rotation,n=!0),(s.repeat.x!==1||s.repeat.y!==1)&&(t.scale=s.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=t,this.extensionsUsed.KHR_texture_transform=!0)}async buildMetalRoughTextureAsync(e,s){if(e===s)return e;function n(f){return f.colorSpace===_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.z?(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(function(d){return d<.04045?d*.0773993808:Math.pow(d*.9478672986+.0521327014,2.4)},\"SRGBToLinear\"):(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(function(d){return d},\"LinearToLinear\")}(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(n,\"getEncodingConversion\"),e instanceof _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.xa&&(e=await this.decompressTextureAsync(e)),s instanceof _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.xa&&(s=await this.decompressTextureAsync(s));let t=e?e.image:null,i=s?s.image:null,r=Math.max(t?t.width:0,i?i.width:0),o=Math.max(t?t.height:0,i?i.height:0),a=Xe();a.width=r,a.height=o;let l=a.getContext(\"2d\",{willReadFrequently:!0});l.fillStyle=\"#00ffff\",l.fillRect(0,0,r,o);let h=l.getImageData(0,0,r,o);if(t){l.drawImage(t,0,0,r,o);let f=n(e),p=l.getImageData(0,0,r,o).data;for(let d=2;d<p.length;d+=4)h.data[d]=f(p[d]/256)*256}if(i){l.drawImage(i,0,0,r,o);let f=n(s),p=l.getImageData(0,0,r,o).data;for(let d=1;d<p.length;d+=4)h.data[d]=f(p[d]/256)*256}l.putImageData(h,0,0);let w=(e||s).clone();return w.source=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.L(a),w.colorSpace=_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.y,w.channel=(e||s).channel,e&&s&&e.channel!==s.channel&&console.warn(\"THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match.\"),console.warn(\"THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.\"),w}async decompressTextureAsync(e,s=1/0){if(this.textureUtils===null)throw new Error(\"THREE.GLTFExporter: setTextureUtils() must be called to process compressed textures.\");return await this.textureUtils.decompress(e,s)}processBuffer(e){let s=this.json,n=this.buffers;return s.buffers||(s.buffers=[{byteLength:0}]),n.push(e),0}processBufferView(e,s,n,t,i){let r=this.json;r.bufferViews||(r.bufferViews=[]);let o;switch(s){case g.BYTE:case g.UNSIGNED_BYTE:o=1;break;case g.SHORT:case g.UNSIGNED_SHORT:o=2;break;default:o=4}let a=e.itemSize*o;i===g.ARRAY_BUFFER&&(a=Math.ceil(a/4)*4);let l=Je(t*a),h=new DataView(new ArrayBuffer(l)),u=0;for(let p=n;p<n+t;p++){for(let d=0;d<e.itemSize;d++){let y;e.itemSize>4?y=e.array[p*e.itemSize+d]:(d===0?y=e.getX(p):d===1?y=e.getY(p):d===2?y=e.getZ(p):d===3&&(y=e.getW(p)),e.normalized===!0&&(y=_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.H.normalize(y,e.array))),s===g.FLOAT?h.setFloat32(u,y,!0):s===g.INT?h.setInt32(u,y,!0):s===g.UNSIGNED_INT?h.setUint32(u,y,!0):s===g.SHORT?h.setInt16(u,y,!0):s===g.UNSIGNED_SHORT?h.setUint16(u,y,!0):s===g.BYTE?h.setInt8(u,y):s===g.UNSIGNED_BYTE&&h.setUint8(u,y),u+=o}u%a!==0&&(u+=a-u%a)}let w={buffer:this.processBuffer(h.buffer),byteOffset:this.byteOffset,byteLength:l};return i!==void 0&&(w.target=i),i===g.ARRAY_BUFFER&&(w.byteStride=a),this.byteOffset+=l,r.bufferViews.push(w),{id:r.bufferViews.length-1,byteLength:0}}processBufferViewImage(e){let s=this,n=s.json;return n.bufferViews||(n.bufferViews=[]),new Promise(function(t){let i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){let r=K(i.result),o={buffer:s.processBuffer(r),byteOffset:s.byteOffset,byteLength:r.byteLength};s.byteOffset+=r.byteLength,t(n.bufferViews.push(o)-1)}})}processAccessor(e,s,n,t){let i=this.json,r={1:\"SCALAR\",2:\"VEC2\",3:\"VEC3\",4:\"VEC4\",9:\"MAT3\",16:\"MAT4\"},o;if(e.array.constructor===Float32Array)o=g.FLOAT;else if(e.array.constructor===Int32Array)o=g.INT;else if(e.array.constructor===Uint32Array)o=g.UNSIGNED_INT;else if(e.array.constructor===Int16Array)o=g.SHORT;else if(e.array.constructor===Uint16Array)o=g.UNSIGNED_SHORT;else if(e.array.constructor===Int8Array)o=g.BYTE;else if(e.array.constructor===Uint8Array)o=g.UNSIGNED_BYTE;else throw new Error(\"THREE.GLTFExporter: Unsupported bufferAttribute component type: \"+e.array.constructor.name);if(n===void 0&&(n=0),(t===void 0||t===1/0)&&(t=e.count),t===0)return null;let a=rs(e,n,t),l;s!==void 0&&(l=e===s.index?g.ELEMENT_ARRAY_BUFFER:g.ARRAY_BUFFER);let h=this.processBufferView(e,o,n,t,l),u={bufferView:h.id,byteOffset:h.byteOffset,componentType:o,count:t,max:a.max,min:a.min,type:r[e.itemSize]};return e.normalized===!0&&(u.normalized=!0),i.accessors||(i.accessors=[]),i.accessors.push(u)-1}processImage(e,s,n,t=\"image/png\"){if(e!==null){let i=this,r=i.cache,o=i.json,a=i.options,l=i.pending;r.images.has(e)||r.images.set(e,{});let h=r.images.get(e),u=t+\":flipY/\"+n.toString();if(h[u]!==void 0)return h[u];o.images||(o.images=[]);let w={mimeType:t},f=Xe();f.width=Math.min(e.width,a.maxTextureSize),f.height=Math.min(e.height,a.maxTextureSize);let p=f.getContext(\"2d\",{willReadFrequently:!0});if(n===!0&&(p.translate(0,f.height),p.scale(1,-1)),e.data!==void 0){s!==_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.r&&console.error(\"GLTFExporter: Only RGBAFormat is supported.\",s),(e.width>a.maxTextureSize||e.height>a.maxTextureSize)&&console.warn(\"GLTFExporter: Image size is bigger than maxTextureSize\",e);let y=new Uint8ClampedArray(e.height*e.width*4);for(let M=0;M<y.length;M+=4)y[M+0]=e.data[M+0],y[M+1]=e.data[M+1],y[M+2]=e.data[M+2],y[M+3]=e.data[M+3];p.putImageData(new ImageData(y,e.width,e.height),0,0)}else if(typeof HTMLImageElement<\"u\"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<\"u\"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<\"u\"&&e instanceof ImageBitmap||typeof OffscreenCanvas<\"u\"&&e instanceof OffscreenCanvas)p.drawImage(e,0,0,f.width,f.height);else throw new Error(\"THREE.GLTFExporter: Invalid image type. Use HTMLImageElement, HTMLCanvasElement, ImageBitmap or OffscreenCanvas.\");a.binary===!0?l.push(We(f,t).then(y=>i.processBufferViewImage(y)).then(y=>{w.bufferView=y})):f.toDataURL!==void 0?w.uri=f.toDataURL(t):l.push(We(f,t).then(y=>new FileReader().readAsDataURL(y)).then(y=>{w.uri=y}));let d=o.images.push(w)-1;return h[u]=d,d}else throw new Error(\"THREE.GLTFExporter: No valid image data found. Unable to process texture.\")}processSampler(e){let s=this.json;s.samplers||(s.samplers=[]);let n={magFilter:N[e.magFilter],minFilter:N[e.minFilter],wrapS:N[e.wrapS],wrapT:N[e.wrapT]};return s.samplers.push(n)-1}async processTextureAsync(e){let n=this.options,t=this.cache,i=this.json;if(t.textures.has(e))return t.textures.get(e);i.textures||(i.textures=[]),e instanceof _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.xa&&(e=await this.decompressTextureAsync(e,n.maxTextureSize));let r=e.userData.mimeType;r===\"image/webp\"&&(r=\"image/png\");let o={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(o.name=e.name),await this._invokeAllAsync(async function(l){l.writeTexture&&await l.writeTexture(e,o)});let a=i.textures.push(o)-1;return t.textures.set(e,a),a}async processMaterialAsync(e){let s=this.cache,n=this.json;if(s.materials.has(e))return s.materials.get(e);if(e.isShaderMaterial)return console.warn(\"GLTFExporter: THREE.ShaderMaterial not supported.\"),null;n.materials||(n.materials=[]);let t={pbrMetallicRoughness:{}};e.isMeshStandardMaterial!==!0&&e.isMeshBasicMaterial!==!0&&console.warn(\"GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.\");let i=e.color.toArray().concat([e.opacity]);if(B(i,[1,1,1,1])||(t.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(t.pbrMetallicRoughness.metallicFactor=e.metalness,t.pbrMetallicRoughness.roughnessFactor=e.roughness):(t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=1),e.metalnessMap||e.roughnessMap){let o=await this.buildMetalRoughTextureAsync(e.metalnessMap,e.roughnessMap),a={index:await this.processTextureAsync(o),texCoord:o.channel};this.applyTextureTransform(a,o),t.pbrMetallicRoughness.metallicRoughnessTexture=a}if(e.map){let o={index:await this.processTextureAsync(e.map),texCoord:e.map.channel};this.applyTextureTransform(o,e.map),t.pbrMetallicRoughness.baseColorTexture=o}if(e.emissive){let o=e.emissive;if(Math.max(o.r,o.g,o.b)>0&&(t.emissiveFactor=e.emissive.toArray()),e.emissiveMap){let l={index:await this.processTextureAsync(e.emissiveMap),texCoord:e.emissiveMap.channel};this.applyTextureTransform(l,e.emissiveMap),t.emissiveTexture=l}}if(e.normalMap){let o={index:await this.processTextureAsync(e.normalMap),texCoord:e.normalMap.channel};e.normalScale&&e.normalScale.x!==1&&(o.scale=e.normalScale.x),this.applyTextureTransform(o,e.normalMap),t.normalTexture=o}if(e.aoMap){let o={index:await this.processTextureAsync(e.aoMap),texCoord:e.aoMap.channel};e.aoMapIntensity!==1&&(o.strength=e.aoMapIntensity),this.applyTextureTransform(o,e.aoMap),t.occlusionTexture=o}e.transparent?t.alphaMode=\"BLEND\":e.alphaTest>0&&(t.alphaMode=\"MASK\",t.alphaCutoff=e.alphaTest),e.side===_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.e&&(t.doubleSided=!0),e.name!==\"\"&&(t.name=e.name),this.serializeUserData(e,t),await this._invokeAllAsync(async function(o){o.writeMaterialAsync&&await o.writeMaterialAsync(e,t)});let r=n.materials.push(t)-1;return s.materials.set(e,r),r}async processMeshAsync(e){let s=this.cache,n=this.json,t=[e.geometry.uuid];if(Array.isArray(e.material))for(let x=0,A=e.material.length;x<A;x++)t.push(e.material[x].uuid);else t.push(e.material.uuid);let i=t.join(\":\");if(s.meshes.has(i))return s.meshes.get(i);let r=e.geometry,o;e.isLineSegments?o=g.LINES:e.isLineLoop?o=g.LINE_LOOP:e.isLine?o=g.LINE_STRIP:e.isPoints?o=g.POINTS:o=e.material.wireframe?g.LINES:g.TRIANGLES;let a={},l={},h=[],u=[],w={uv:\"TEXCOORD_0\",uv1:\"TEXCOORD_1\",uv2:\"TEXCOORD_2\",uv3:\"TEXCOORD_3\",color:\"COLOR_0\",skinWeight:\"WEIGHTS_0\",skinIndex:\"JOINTS_0\"},f=r.getAttribute(\"normal\");f!==void 0&&!this.isNormalizedNormalAttribute(f)&&(console.warn(\"THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one.\"),r.setAttribute(\"normal\",this.createNormalizedNormalAttribute(f)));let p=null;for(let x in r.attributes){if(x.slice(0,5)===\"morph\")continue;let A=r.attributes[x];if(x=w[x]||x.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\\d+|COLOR_\\d+|JOINTS_\\d+|WEIGHTS_\\d+)$/.test(x)||(x=\"_\"+x),s.attributes.has(this.getUID(A))){l[x]=s.attributes.get(this.getUID(A));continue}p=null;let m=A.array;x===\"JOINTS_0\"&&!(m instanceof Uint16Array)&&!(m instanceof Uint8Array)?(console.warn('GLTFExporter: Attribute \"skinIndex\" converted to type UNSIGNED_SHORT.'),p=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Z(new Uint16Array(m),A.itemSize,A.normalized)):(m instanceof Uint32Array||m instanceof Int32Array)&&!x.startsWith(\"_\")&&(console.warn('GLTFExporter: Attribute \"'.concat(x,'\" converted to type FLOAT.')),p=P.Utils.toFloat32BufferAttribute(A));let E=this.processAccessor(p||A,r);E!==null&&(x.startsWith(\"_\")||this.detectMeshQuantization(x,A),l[x]=E,s.attributes.set(this.getUID(A),E))}if(f!==void 0&&r.setAttribute(\"normal\",f),Object.keys(l).length===0)return null;if(e.morphTargetInfluences!==void 0&&e.morphTargetInfluences.length>0){let x=[],A=[],I={};if(e.morphTargetDictionary!==void 0)for(let m in e.morphTargetDictionary)I[e.morphTargetDictionary[m]]=m;for(let m=0;m<e.morphTargetInfluences.length;++m){let E={},Ie=!1;for(let _ in r.morphAttributes){if(_!==\"position\"&&_!==\"normal\"){Ie||(console.warn(\"GLTFExporter: Only POSITION and NORMAL morph are supported.\"),Ie=!0);continue}let S=r.morphAttributes[_][m],H=_.toUpperCase(),L=r.attributes[_];if(s.attributes.has(this.getUID(S,!0))){E[H]=s.attributes.get(this.getUID(S,!0));continue}let O=S.clone();if(!r.morphTargetsRelative)for(let R=0,Ze=S.count;R<Ze;R++)for(let C=0;C<S.itemSize;C++)C===0&&O.setX(R,S.getX(R)-L.getX(R)),C===1&&O.setY(R,S.getY(R)-L.getY(R)),C===2&&O.setZ(R,S.getZ(R)-L.getZ(R)),C===3&&O.setW(R,S.getW(R)-L.getW(R));E[H]=this.processAccessor(O,r),s.attributes.set(this.getUID(L,!0),E[H])}u.push(E),x.push(e.morphTargetInfluences[m]),e.morphTargetDictionary!==void 0&&A.push(I[m])}a.weights=x,A.length>0&&(a.extras={},a.extras.targetNames=A)}let d=Array.isArray(e.material);if(d&&r.groups.length===0)return null;let y=!1;if(d&&r.index===null){let x=[];for(let A=0,I=r.attributes.position.count;A<I;A++)x[A]=A;r.setIndex(x),y=!0}let M=d?e.material:[e.material],b=d?r.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let x=0,A=b.length;x<A;x++){let I={mode:o,attributes:l};if(this.serializeUserData(r,I),u.length>0&&(I.targets=u),r.index!==null){let E=this.getUID(r.index);(b[x].start!==void 0||b[x].count!==void 0)&&(E+=\":\"+b[x].start+\":\"+b[x].count),s.attributes.has(E)?I.indices=s.attributes.get(E):(I.indices=this.processAccessor(r.index,r,b[x].start,b[x].count),s.attributes.set(E,I.indices)),I.indices===null&&delete I.indices}let m=await this.processMaterialAsync(M[b[x].materialIndex]);m!==null&&(I.material=m),h.push(I)}y===!0&&r.setIndex(null),a.primitives=h,n.meshes||(n.meshes=[]),await this._invokeAllAsync(function(x){x.writeMesh&&x.writeMesh(e,a)});let D=n.meshes.push(a)-1;return s.meshes.set(i,D),D}detectMeshQuantization(e,s){if(this.extensionsUsed[Y])return;let n;switch(s.array.constructor){case Int8Array:n=\"byte\";break;case Uint8Array:n=\"unsigned byte\";break;case Int16Array:n=\"short\";break;case Uint16Array:n=\"unsigned short\";break;default:return}s.normalized&&(n+=\" normalized\");let t=e.split(\"_\",1)[0];Ye[t]&&Ye[t].includes(n)&&(this.extensionsUsed[Y]=!0,this.extensionsRequired[Y]=!0)}processCamera(e){let s=this.json;s.cameras||(s.cameras=[]);let n=e.isOrthographicCamera,t={type:n?\"orthographic\":\"perspective\"};return n?t.orthographic={xmag:e.right*2,ymag:e.top*2,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:t.perspective={aspectRatio:e.aspect,yfov:_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.H.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},e.name!==\"\"&&(t.name=e.type),s.cameras.push(t)-1}processAnimation(e,s){let n=this.json,t=this.nodeMap;n.animations||(n.animations=[]),e=P.Utils.mergeMorphTargetTracks(e.clone(),s);let i=e.tracks,r=[],o=[];for(let a=0;a<i.length;++a){let l=i[a],h=_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.bb.parseTrackName(l.name),u=_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.bb.findNode(s,h.nodeName),w=Ke[h.propertyName];if(h.objectName===\"bones\"&&(u.isSkinnedMesh===!0?u=u.skeleton.getBoneByName(h.objectIndex):u=void 0),!u||!w){console.warn('THREE.GLTFExporter: Could not export animation track \"%s\".',l.name);continue}let f=1,p=l.values.length/l.times.length;w===Ke.morphTargetInfluences&&(p/=u.morphTargetInfluences.length);let d;l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline===!0?(d=\"CUBICSPLINE\",p/=3):l.getInterpolation()===_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.s?d=\"STEP\":d=\"LINEAR\",o.push({input:this.processAccessor(new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Z(l.times,f)),output:this.processAccessor(new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Z(l.values,p)),interpolation:d}),r.push({sampler:o.length-1,target:{node:t.get(u),path:w}})}return n.animations.push({name:e.name||\"clip_\"+n.animations.length,samplers:o,channels:r}),n.animations.length-1}processSkin(e){let s=this.json,n=this.nodeMap,t=s.nodes[n.get(e)],i=e.skeleton;if(i===void 0)return null;let r=e.skeleton.bones[0];if(r===void 0)return null;let o=[],a=new Float32Array(i.bones.length*16),l=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.T;for(let u=0;u<i.bones.length;++u)o.push(n.get(i.bones[u])),l.copy(i.boneInverses[u]),l.multiply(e.bindMatrix).toArray(a,u*16);return s.skins===void 0&&(s.skins=[]),s.skins.push({inverseBindMatrices:this.processAccessor(new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Z(a,16)),joints:o,skeleton:n.get(r)}),t.skin=s.skins.length-1}async processNodeAsync(e){let s=this.json,n=this.options,t=this.nodeMap;s.nodes||(s.nodes=[]);let i={};if(n.trs){let o=e.quaternion.toArray(),a=e.position.toArray(),l=e.scale.toArray();B(o,[0,0,0,1])||(i.rotation=o),B(a,[0,0,0])||(i.translation=a),B(l,[1,1,1])||(i.scale=l)}else e.matrixAutoUpdate&&e.updateMatrix(),is(e.matrix)===!1&&(i.matrix=e.matrix.elements);if(e.name!==\"\"&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){let o=await this.processMeshAsync(e);o!==null&&(i.mesh=o)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){let o=[];for(let a=0,l=e.children.length;a<l;a++){let h=e.children[a];if(h.visible||n.onlyVisible===!1){let u=await this.processNodeAsync(h);u!==null&&o.push(u)}}o.length>0&&(i.children=o)}await this._invokeAllAsync(function(o){o.writeNode&&o.writeNode(e,i)});let r=s.nodes.push(i)-1;return t.set(e,r),r}async processSceneAsync(e){let s=this.json,n=this.options;s.scenes||(s.scenes=[],s.scene=0);let t={};e.name!==\"\"&&(t.name=e.name),s.scenes.push(t);let i=[];for(let r=0,o=e.children.length;r<o;r++){let a=e.children[r];if(a.visible||n.onlyVisible===!1){let l=await this.processNodeAsync(a);l!==null&&i.push(l)}}i.length>0&&(t.nodes=i),this.serializeUserData(e,t)}async processObjectsAsync(e){let s=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.ga;s.name=\"AuxScene\";for(let n=0;n<e.length;n++)s.children.push(e[n]);await this.processSceneAsync(s)}async processInputAsync(e){let s=this.options;e=e instanceof Array?e:[e],await this._invokeAllAsync(function(t){t.beforeParse&&t.beforeParse(e)});let n=[];for(let t=0;t<e.length;t++)e[t]instanceof _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.ga?await this.processSceneAsync(e[t]):n.push(e[t]);n.length>0&&await this.processObjectsAsync(n);for(let t=0;t<this.skins.length;++t)this.processSkin(this.skins[t]);for(let t=0;t<s.animations.length;++t)this.processAnimation(s.animations[t],e[0]);await this._invokeAllAsync(function(t){t.afterParse&&t.afterParse(e)})}async _invokeAllAsync(e){for(let s=0,n=this.plugins.length;s<n;s++)await e(this.plugins[s])}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(ce,\"GLTFWriter\");var j=ce,ue=class ue{constructor(e){this.writer=e,this.name=\"KHR_lights_punctual\"}writeNode(e,s){if(!e.isLight)return;if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight){console.warn(\"THREE.GLTFExporter: Only directional, point, and spot lights are supported.\",e);return}let n=this.writer,t=n.json,i=n.extensionsUsed,r={};e.name&&(r.name=e.name),r.color=e.color.toArray(),r.intensity=e.intensity,e.isDirectionalLight?r.type=\"directional\":e.isPointLight?(r.type=\"point\",e.distance>0&&(r.range=e.distance)):e.isSpotLight&&(r.type=\"spot\",e.distance>0&&(r.range=e.distance),r.spot={},r.spot.innerConeAngle=(1-e.penumbra)*e.angle,r.spot.outerConeAngle=e.angle),e.decay!==void 0&&e.decay!==2&&console.warn(\"THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2.\"),e.target&&(e.target.parent!==e||e.target.position.x!==0||e.target.position.y!==0||e.target.position.z!==-1)&&console.warn(\"THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1.\"),i[this.name]||(t.extensions=t.extensions||{},t.extensions[this.name]={lights:[]},i[this.name]=!0);let o=t.extensions[this.name].lights;o.push(r),s.extensions=s.extensions||{},s.extensions[this.name]={light:o.length-1}}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(ue,\"GLTFLightExtension\");var q=ue,le=class le{constructor(e){this.writer=e,this.name=\"KHR_materials_unlit\"}async writeMaterialAsync(e,s){if(!e.isMeshBasicMaterial)return;let t=this.writer.extensionsUsed;s.extensions=s.extensions||{},s.extensions[this.name]={},t[this.name]=!0,s.pbrMetallicRoughness.metallicFactor=0,s.pbrMetallicRoughness.roughnessFactor=.9}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(le,\"GLTFMaterialsUnlitExtension\");var X=le,fe=class fe{constructor(e){this.writer=e,this.name=\"KHR_materials_clearcoat\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.clearcoat===0)return;let n=this.writer,t=n.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){let r={index:await n.processTextureAsync(e.clearcoatMap),texCoord:e.clearcoatMap.channel};n.applyTextureTransform(r,e.clearcoatMap),i.clearcoatTexture=r}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){let r={index:await n.processTextureAsync(e.clearcoatRoughnessMap),texCoord:e.clearcoatRoughnessMap.channel};n.applyTextureTransform(r,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=r}if(e.clearcoatNormalMap){let r={index:await n.processTextureAsync(e.clearcoatNormalMap),texCoord:e.clearcoatNormalMap.channel};e.clearcoatNormalScale.x!==1&&(r.scale=e.clearcoatNormalScale.x),n.applyTextureTransform(r,e.clearcoatNormalMap),i.clearcoatNormalTexture=r}s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(fe,\"GLTFMaterialsClearcoatExtension\");var W=fe,he=class he{constructor(e){this.writer=e,this.name=\"KHR_materials_dispersion\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.dispersion===0)return;let t=this.writer.extensionsUsed,i={};i.dispersion=e.dispersion,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(he,\"GLTFMaterialsDispersionExtension\");var J=he,pe=class pe{constructor(e){this.writer=e,this.name=\"KHR_materials_iridescence\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.iridescence===0)return;let n=this.writer,t=n.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){let r={index:await n.processTextureAsync(e.iridescenceMap),texCoord:e.iridescenceMap.channel};n.applyTextureTransform(r,e.iridescenceMap),i.iridescenceTexture=r}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){let r={index:await n.processTextureAsync(e.iridescenceThicknessMap),texCoord:e.iridescenceThicknessMap.channel};n.applyTextureTransform(r,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=r}s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(pe,\"GLTFMaterialsIridescenceExtension\");var Z=pe,de=class de{constructor(e){this.writer=e,this.name=\"KHR_materials_transmission\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;let n=this.writer,t=n.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){let r={index:await n.processTextureAsync(e.transmissionMap),texCoord:e.transmissionMap.channel};n.applyTextureTransform(r,e.transmissionMap),i.transmissionTexture=r}s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(de,\"GLTFMaterialsTransmissionExtension\");var Q=de,xe=class xe{constructor(e){this.writer=e,this.name=\"KHR_materials_volume\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.transmission===0)return;let n=this.writer,t=n.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){let r={index:await n.processTextureAsync(e.thicknessMap),texCoord:e.thicknessMap.channel};n.applyTextureTransform(r,e.thicknessMap),i.thicknessTexture=r}e.attenuationDistance!==1/0&&(i.attenuationDistance=e.attenuationDistance),i.attenuationColor=e.attenuationColor.toArray(),s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(xe,\"GLTFMaterialsVolumeExtension\");var $=xe,ye=class ye{constructor(e){this.writer=e,this.name=\"KHR_materials_ior\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.ior===1.5)return;let t=this.writer.extensionsUsed,i={};i.ior=e.ior,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(ye,\"GLTFMaterialsIorExtension\");var ee=ye,ge=class ge{constructor(e){this.writer=e,this.name=\"KHR_materials_specular\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.specularIntensity===1&&e.specularColor.equals(Qe)&&!e.specularIntensityMap&&!e.specularColorMap)return;let n=this.writer,t=n.extensionsUsed,i={};if(e.specularIntensityMap){let r={index:await n.processTextureAsync(e.specularIntensityMap),texCoord:e.specularIntensityMap.channel};n.applyTextureTransform(r,e.specularIntensityMap),i.specularTexture=r}if(e.specularColorMap){let r={index:await n.processTextureAsync(e.specularColorMap),texCoord:e.specularColorMap.channel};n.applyTextureTransform(r,e.specularColorMap),i.specularColorTexture=r}i.specularFactor=e.specularIntensity,i.specularColorFactor=e.specularColor.toArray(),s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(ge,\"GLTFMaterialsSpecularExtension\");var se=ge,we=class we{constructor(e){this.writer=e,this.name=\"KHR_materials_sheen\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.sheen==0)return;let n=this.writer,t=n.extensionsUsed,i={};if(e.sheenRoughnessMap){let r={index:await n.processTextureAsync(e.sheenRoughnessMap),texCoord:e.sheenRoughnessMap.channel};n.applyTextureTransform(r,e.sheenRoughnessMap),i.sheenRoughnessTexture=r}if(e.sheenColorMap){let r={index:await n.processTextureAsync(e.sheenColorMap),texCoord:e.sheenColorMap.channel};n.applyTextureTransform(r,e.sheenColorMap),i.sheenColorTexture=r}i.sheenRoughnessFactor=e.sheenRoughness,i.sheenColorFactor=e.sheenColor.toArray(),s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(we,\"GLTFMaterialsSheenExtension\");var te=we,Te=class Te{constructor(e){this.writer=e,this.name=\"KHR_materials_anisotropy\"}async writeMaterialAsync(e,s){if(!e.isMeshPhysicalMaterial||e.anisotropy==0)return;let n=this.writer,t=n.extensionsUsed,i={};if(e.anisotropyMap){let r={index:await n.processTextureAsync(e.anisotropyMap)};n.applyTextureTransform(r,e.anisotropyMap),i.anisotropyTexture=r}i.anisotropyStrength=e.anisotropy,i.anisotropyRotation=e.anisotropyRotation,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(Te,\"GLTFMaterialsAnisotropyExtension\");var ne=Te,Ae=class Ae{constructor(e){this.writer=e,this.name=\"KHR_materials_emissive_strength\"}async writeMaterialAsync(e,s){if(!e.isMeshStandardMaterial||e.emissiveIntensity===1)return;let t=this.writer.extensionsUsed,i={};i.emissiveStrength=e.emissiveIntensity,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(Ae,\"GLTFMaterialsEmissiveStrengthExtension\");var ie=Ae,me=class me{constructor(e){this.writer=e,this.name=\"EXT_materials_bump\"}async writeMaterialAsync(e,s){if(!e.isMeshStandardMaterial||e.bumpScale===1&&!e.bumpMap)return;let n=this.writer,t=n.extensionsUsed,i={};if(e.bumpMap){let r={index:await n.processTextureAsync(e.bumpMap),texCoord:e.bumpMap.channel};n.applyTextureTransform(r,e.bumpMap),i.bumpTexture=r}i.bumpFactor=e.bumpScale,s.extensions=s.extensions||{},s.extensions[this.name]=i,t[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(me,\"GLTFMaterialsBumpExtension\");var re=me,Me=class Me{constructor(e){this.writer=e,this.name=\"EXT_mesh_gpu_instancing\"}writeNode(e,s){if(!e.isInstancedMesh)return;let n=this.writer,t=e,i=new Float32Array(t.count*3),r=new Float32Array(t.count*4),o=new Float32Array(t.count*3),a=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.T,l=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Q,h=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.P,u=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Q;for(let f=0;f<t.count;f++)t.getMatrixAt(f,a),a.decompose(l,h,u),l.toArray(i,f*3),h.toArray(r,f*4),u.toArray(o,f*3);let w={TRANSLATION:n.processAccessor(new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Z(i,3)),ROTATION:n.processAccessor(new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Z(r,4)),SCALE:n.processAccessor(new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Z(o,3))};t.instanceColor&&(w._COLOR_0=n.processAccessor(t.instanceColor)),s.extensions=s.extensions||{},s.extensions[this.name]={attributes:w},n.extensionsUsed[this.name]=!0,n.extensionsRequired[this.name]=!0}};(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(Me,\"GLTFMeshGpuInstancing\");var oe=Me;P.Utils={insertKeyframe:(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(function(c,e){let n=c.getValueSize(),t=new c.TimeBufferType(c.times.length+1),i=new c.ValueBufferType(c.values.length+n),r=c.createInterpolant(new c.ValueBufferType(n)),o;if(c.times.length===0){t[0]=e;for(let a=0;a<n;a++)i[a]=0;o=0}else if(e<c.times[0]){if(Math.abs(c.times[0]-e)<.001)return 0;t[0]=e,t.set(c.times,1),i.set(r.evaluate(e),0),i.set(c.values,n),o=0}else if(e>c.times[c.times.length-1]){if(Math.abs(c.times[c.times.length-1]-e)<.001)return c.times.length-1;t[t.length-1]=e,t.set(c.times,0),i.set(c.values,0),i.set(r.evaluate(e),c.values.length),o=t.length-1}else for(let a=0;a<c.times.length;a++){if(Math.abs(c.times[a]-e)<.001)return a;if(c.times[a]<e&&c.times[a+1]>e){t.set(c.times.slice(0,a+1),0),t[a+1]=e,t.set(c.times.slice(a+1),a+2),i.set(c.values.slice(0,(a+1)*n),0),i.set(r.evaluate(e),(a+1)*n),i.set(c.values.slice((a+1)*n),(a+2)*n),o=a+1;break}}return c.times=t,c.values=i,o},\"insertKeyframe\"),mergeMorphTargetTracks:(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(function(c,e){let s=[],n={},t=c.tracks;for(let i=0;i<t.length;++i){let r=t[i],o=_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.bb.parseTrackName(r.name),a=_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.bb.findNode(e,o.nodeName);if(o.propertyName!==\"morphTargetInfluences\"||o.propertyIndex===void 0){s.push(r);continue}if(r.createInterpolant!==r.InterpolantFactoryMethodDiscrete&&r.createInterpolant!==r.InterpolantFactoryMethodLinear){if(r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error(\"THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.\");console.warn(\"THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead.\"),r=r.clone(),r.setInterpolation(_chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.t)}let l=a.morphTargetInfluences.length,h=a.morphTargetDictionary[o.propertyIndex];if(h===void 0)throw new Error(\"THREE.GLTFExporter: Morph target name not found: \"+o.propertyIndex);let u;if(n[a.uuid]===void 0){u=r.clone();let f=new u.ValueBufferType(l*u.times.length);for(let p=0;p<u.times.length;p++)f[p*l+h]=u.values[p];u.name=(o.nodeName||\"\")+\".morphTargetInfluences\",u.values=f,n[a.uuid]=u,s.push(u);continue}let w=r.createInterpolant(new r.ValueBufferType(1));u=n[a.uuid];for(let f=0;f<u.times.length;f++)u.values[f*l+h]=w.evaluate(u.times[f]);for(let f=0;f<r.times.length;f++){let p=this.insertKeyframe(u,r.times[f]);u.values[p*l+h]=r.values[f]}}return c.tracks=s,c},\"mergeMorphTargetTracks\"),toFloat32BufferAttribute:(0,_chunk_PEDEW3M6_js__WEBPACK_IMPORTED_MODULE_2__.c)(function(c){let e=new _chunk_6X6EHSZ7_js__WEBPACK_IMPORTED_MODULE_0__.Z(new Float32Array(c.count*c.itemSize),c.itemSize,!1);if(!c.normalized&&!c.isInterleavedBufferAttribute)return e.array.set(c.array),e;for(let s=0,n=c.count;s<n;s++)for(let t=0;t<c.itemSize;t++)e.setComponent(s,t,c.getComponent(s,t));return e},\"toFloat32BufferAttribute\")};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbWFwcGVkaW4vcmVhY3Qtc2RrL2xpYi9lc20vR0xURkV4cG9ydGVyLVc0T1I2NkdHLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOFQscURBQUUsR0FBRyxRQUFRLG9WQUFvVixhQUFhLGNBQWMseUVBQXlFLGdCQUFnQiw0QkFBNEIsZ0JBQWdCLDRCQUE0QixnQkFBZ0IsNEJBQTRCLGdCQUFnQiw0QkFBNEIsaUJBQWlCLDRCQUE0QixpQkFBaUIsNEJBQTRCLGdCQUFnQiw0QkFBNEIsZ0JBQWdCLDRCQUE0QixnQkFBZ0IsNEJBQTRCLGlCQUFpQiw0QkFBNEIsaUJBQWlCLDRCQUE0QixpQkFBaUIsNEJBQTRCLGlCQUFpQiw0QkFBNEIsaUJBQWlCLEVBQUUsWUFBWSwrRUFBK0UsY0FBYyxpSEFBaUgsbUJBQW1CLGdDQUFnQyxlQUFlLGlCQUFpQiwwQ0FBMEMsSUFBSSx1Q0FBdUMsa0ZBQWtGLGdCQUFnQixXQUFXLGlDQUFpQyxpQkFBaUIsSUFBSSxxREFBQyxvQkFBb0IsWUFBWSxrYUFBa2EsZ0NBQWdDLEVBQUUsaURBQUUsWUFBWSxFQUFFLGlEQUFFLDJCQUEyQixFQUFFLGlEQUFFLDBCQUEwQixFQUFFLGlEQUFFLFdBQVcsRUFBRSxpREFBRSwwQkFBMEIsRUFBRSxpREFBRSx5QkFBeUIsRUFBRSxpREFBRSxrQkFBa0IsRUFBRSxpREFBRSxXQUFXLEVBQUUsaURBQUUsb0JBQW9CLFFBQVEsMkZBQTJGLFFBQVEsaURBQUUsd0RBQXdELGdCQUFnQixrREFBa0QsZ0JBQWdCLEVBQUUscURBQUMsaUJBQWlCLGVBQWUsMENBQTBDLHFEQUFDLDJCQUEyQixlQUFlLHVEQUF1RCxxREFBQyx3QkFBd0IsbUJBQW1CLE9BQU8sbUhBQW1ILFlBQVksTUFBTSxnQkFBZ0IsYUFBYSxLQUFLLE1BQU0seUlBQXlJLGlEQUFDLG9GQUFvRixTQUFTLHFEQUFDLGlCQUFpQixlQUFlLHdCQUF3QixxREFBQywyQkFBMkIsa0JB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aUJBQWlCLEtBQUssd0NBQXdDLDZCQUE2QixvQkFBb0Isb0RBQW9ELHFEQUFDLGFBQWEsVUFBVSxpREFBQyxxREFBcUQsZ0ZBQWdGLHNCQUFzQixJQUFJLGdCQUFnQixhQUFhLDRDQUE0QyxTQUFTLDhCQUF3RCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx1c2VyXFxEZXNrdG9wXFxEZXZcXEJvb3RoRmluZGVyXFxub2RlX21vZHVsZXNcXEBtYXBwZWRpblxccmVhY3Qtc2RrXFxsaWJcXGVzbVxcR0xURkV4cG9ydGVyLVc0T1I2NkdHLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtIIGFzIEYsTCBhcyBIZSxQIGFzIFZlLFEgYXMgdixUIGFzIFYsVyBhcyBHZSxaIGFzIFUsYSBhcyBFZSxiYiBhcyB6LGUgYXMgTmUsZyBhcyBiZSxnYSBhcyBHLGggYXMgU2UsaSBhcyBVZSxqIGFzIENlLGsgYXMgX2UsbCBhcyBMZSxtIGFzIE9lLG4gYXMgdmUsbyBhcyB6ZSxyIGFzIEJlLHMgYXMgUGUsdCBhcyBEZSx4YSBhcyBrLHkgYXMgRmUseiBhcyBrZX1mcm9tXCIuL2NodW5rLTZYNkVIU1o3LmpzXCI7aW1wb3J0e2EgYXMgUmV9ZnJvbVwiLi9jaHVuay01U0hNQk5MWC5qc1wiO2ltcG9ydHtjIGFzIFR9ZnJvbVwiLi9jaHVuay1QRURFVzNNNi5qc1wiO1JlKCk7dmFyIFllPXtQT1NJVElPTjpbXCJieXRlXCIsXCJieXRlIG5vcm1hbGl6ZWRcIixcInVuc2lnbmVkIGJ5dGVcIixcInVuc2lnbmVkIGJ5dGUgbm9ybWFsaXplZFwiLFwic2hvcnRcIixcInNob3J0IG5vcm1hbGl6ZWRcIixcInVuc2lnbmVkIHNob3J0XCIsXCJ1bnNpZ25lZCBzaG9ydCBub3JtYWxpemVkXCJdLE5PUk1BTDpbXCJieXRlIG5vcm1hbGl6ZWRcIixcInNob3J0IG5vcm1hbGl6ZWRcIl0sVEFOR0VOVDpbXCJieXRlIG5vcm1hbGl6ZWRcIixcInNob3J0IG5vcm1hbGl6ZWRcIl0sVEVYQ09PUkQ6W1wiYnl0ZVwiLFwiYnl0ZSBub3JtYWxpemVkXCIsXCJ1bnNpZ25lZCBieXRlXCIsXCJzaG9ydFwiLFwic2hvcnQgbm9ybWFsaXplZFwiLFwidW5zaWduZWQgc2hvcnRcIl19LGFlPWNsYXNzIGFle2NvbnN0cnVjdG9yKCl7dGhpcy50ZXh0dXJlVXRpbHM9bnVsbCx0aGlzLnBsdWdpbkNhbGxiYWNrcz1bXSx0aGlzLnJlZ2lzdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcShlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBYKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFEoZSl9KSx0aGlzLnJlZ2lzdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgJChlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBlZShlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBzZShlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBXKGUpfSksdGhpcy5yZWdpc3RlcihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEooZSl9KSx0aGlzLnJlZ2lzdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgWihlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0ZShlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBuZShlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpZShlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyByZShlKX0pLHRoaXMucmVnaXN0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvZShlKX0pfXJlZ2lzdGVyKGUpe3JldHVybiB0aGlzLnBsdWdpbkNhbGxiYWNrcy5pbmRleE9mKGUpPT09LTEmJnRoaXMucGx1Z2luQ2FsbGJhY2tzLnB1c2goZSksdGhpc311bnJlZ2lzdGVyKGUpe3JldHVybiB0aGlzLnBsdWdpbkNhbGxiYWNrcy5pbmRleE9mKGUpIT09LTEmJnRoaXMucGx1Z2luQ2FsbGJhY2tzLnNwbGljZSh0aGlzLnBsdWdpbkNhbGxiYWNrcy5pbmRleE9mKGUpLDEpLHRoaXN9c2V0VGV4dHVyZVV0aWxzKGUpe3JldHVybiB0aGlzLnRleHR1cmVVdGlscz1lLHRoaXN9cGFyc2UoZSxzLG4sdCl7bGV0IGk9bmV3IGoscj1bXTtmb3IobGV0IG89MCxhPXRoaXMucGx1Z2luQ2FsbGJhY2tzLmxlbmd0aDtvPGE7bysrKXIucHVzaCh0aGlzLnBsdWdpbkNhbGxiYWNrc1tvXShpKSk7aS5zZXRQbHVnaW5zKHIpLGkuc2V0VGV4dHVyZVV0aWxzKHRoaXMudGV4dHVyZVV0aWxzKSxpLndyaXRlQXN5bmMoZSxzLHQpLmNhdGNoKG4pfXBhcnNlQXN5bmMoZSxzKXtsZXQgbj10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LGkpe24ucGFyc2UoZSx0LGkscyl9KX19O1QoYWUsXCJHTFRGRXhwb3J0ZXJcIik7dmFyIFA9YWUsZz17UE9JTlRTOjAsTElORVM6MSxMSU5FX0xPT1A6MixMSU5FX1NUUklQOjMsVFJJQU5HTEVTOjQsVFJJQU5HTEVfU1RSSVA6NSxUUklBTkdMRV9GQU46NixCWVRFOjUxMjAsVU5TSUdORURfQllURTo1MTIxLFNIT1JUOjUxMjIsVU5TSUdORURfU0hPUlQ6NTEyMyxJTlQ6NTEyNCxVTlNJR05FRF9JTlQ6NTEyNSxGTE9BVDo1MTI2LEFSUkFZX0JVRkZFUjozNDk2MixFTEVNRU5UX0FSUkFZX0JVRkZFUjozNDk2MyxORUFSRVNUOjk3MjgsTElORUFSOjk3MjksTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDo5OTg0LExJTkVBUl9NSVBNQVBfTkVBUkVTVDo5OTg1LE5FQVJFU1RfTUlQTUFQX0xJTkVBUjo5OTg2LExJTkVBUl9NSVBNQVBfTElORUFSOjk5ODcsQ0xBTVBfVE9fRURHRTozMzA3MSxNSVJST1JFRF9SRVBFQVQ6MzM2NDgsUkVQRUFUOjEwNDk3fSxZPVwiS0hSX21lc2hfcXVhbnRpemF0aW9uXCIsTj17fTtOW0NlXT1nLk5FQVJFU1Q7TltfZV09Zy5ORUFSRVNUX01JUE1BUF9ORUFSRVNUO05bTGVdPWcuTkVBUkVTVF9NSVBNQVBfTElORUFSO05bT2VdPWcuTElORUFSO05bdmVdPWcuTElORUFSX01JUE1BUF9ORUFSRVNUO05bemVdPWcuTElORUFSX01JUE1BUF9MSU5FQVI7TltTZV09Zy5DTEFNUF9UT19FREdFO05bYmVdPWcuUkVQRUFUO05bVWVdPWcuTUlSUk9SRURfUkVQRUFUO3ZhciBLZT17c2NhbGU6XCJzY2FsZVwiLHBvc2l0aW9uOlwidHJhbnNsYXRpb25cIixxdWF0ZXJuaW9uOlwicm90YXRpb25cIixtb3JwaFRhcmdldEluZmx1ZW5jZXM6XCJ3ZWlnaHRzXCJ9LFFlPW5ldyBHZSxqZT0xMiwkZT0xMTc5OTM3ODk1LGVzPTIscWU9OCxzcz0xMzEzODIxNTE0LHRzPTUxMzA1NjI7ZnVuY3Rpb24gQihjLGUpe3JldHVybiBjLmxlbmd0aD09PWUubGVuZ3RoJiZjLmV2ZXJ5KGZ1bmN0aW9uKHMsbil7cmV0dXJuIHM9PT1lW25dfSl9VChCLFwiZXF1YWxBcnJheVwiKTtmdW5jdGlvbiBucyhjKXtyZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGMpLmJ1ZmZlcn1UKG5zLFwic3RyaW5nVG9BcnJheUJ1ZmZlclwiKTtmdW5jdGlvbiBpcyhjKXtyZXR1cm4gQihjLmVsZW1lbnRzLFsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSl9VChpcyxcImlzSWRlbnRpdHlNYXRyaXhcIik7ZnVuY3Rpb24gcnMoYyxlLHMpe2xldCBuPXttaW46bmV3IEFycmF5KGMuaXRlbVNpemUpLmZpbGwoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSxtYXg6bmV3IEFycmF5KGMuaXRlbVNpemUpLmZpbGwoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKX07Zm9yKGxldCB0PWU7dDxlK3M7dCsrKWZvcihsZXQgaT0wO2k8Yy5pdGVtU2l6ZTtpKyspe2xldCByO2MuaXRlbVNpemU+ND9yPWMuYXJyYXlbdCpjLml0ZW1TaXplK2ldOihpPT09MD9yPWMuZ2V0WCh0KTppPT09MT9yPWMuZ2V0WSh0KTppPT09Mj9yPWMuZ2V0Wih0KTppPT09MyYmKHI9Yy5nZXRXKHQpKSxjLm5vcm1hbGl6ZWQ9PT0hMCYmKHI9Ri5ub3JtYWxpemUocixjLmFycmF5KSkpLG4ubWluW2ldPU1hdGgubWluKG4ubWluW2ldLHIpLG4ubWF4W2ldPU1hdGgubWF4KG4ubWF4W2ldLHIpfXJldHVybiBufVQocnMsXCJnZXRNaW5NYXhcIik7ZnVuY3Rpb24gSmUoYyl7cmV0dXJuIE1hdGguY2VpbChjLzQpKjR9VChKZSxcImdldFBhZGRlZEJ1ZmZlclNpemVcIik7ZnVuY3Rpb24gSyhjLGU9MCl7bGV0IHM9SmUoYy5ieXRlTGVuZ3RoKTtpZihzIT09Yy5ieXRlTGVuZ3RoKXtsZXQgbj1uZXcgVWludDhBcnJheShzKTtpZihuLnNldChuZXcgVWludDhBcnJheShjKSksZSE9PTApZm9yKGxldCB0PWMuYnl0ZUxlbmd0aDt0PHM7dCsrKW5bdF09ZTtyZXR1cm4gbi5idWZmZXJ9cmV0dXJuIGN9VChLLFwiZ2V0UGFkZGVkQXJyYXlCdWZmZXJcIik7ZnVuY3Rpb24gWGUoKXtyZXR1cm4gdHlwZW9mIGRvY3VtZW50PlwidVwiJiZ0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzPFwidVwiP25ldyBPZmZzY3JlZW5DYW52YXMoMSwxKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpfVQoWGUsXCJnZXRDYW52YXNcIik7ZnVuY3Rpb24gV2UoYyxlKXtpZihjLnRvQmxvYiE9PXZvaWQgMClyZXR1cm4gbmV3IFByb21pc2Uobj0+Yy50b0Jsb2IobixlKSk7bGV0IHM7cmV0dXJuIGU9PT1cImltYWdlL2pwZWdcIj9zPS45MjplPT09XCJpbWFnZS93ZWJwXCImJihzPS44KSxjLmNvbnZlcnRUb0Jsb2Ioe3R5cGU6ZSxxdWFsaXR5OnN9KX1UKFdlLFwiZ2V0VG9CbG9iUHJvbWlzZVwiKTt2YXIgY2U9Y2xhc3MgY2V7Y29uc3RydWN0b3IoKXt0aGlzLnBsdWdpbnM9W10sdGhpcy5vcHRpb25zPXt9LHRoaXMucGVuZGluZz1bXSx0aGlzLmJ1ZmZlcnM9W10sdGhpcy5ieXRlT2Zmc2V0PTAsdGhpcy5idWZmZXJzPVtdLHRoaXMubm9kZU1hcD1uZXcgTWFwLHRoaXMuc2tpbnM9W10sdGhpcy5leHRlbnNpb25zVXNlZD17fSx0aGlzLmV4dGVuc2lvbnNSZXF1aXJlZD17fSx0aGlzLnVpZHM9bmV3IE1hcCx0aGlzLnVpZD0wLHRoaXMuanNvbj17YXNzZXQ6e3ZlcnNpb246XCIyLjBcIixnZW5lcmF0b3I6XCJUSFJFRS5HTFRGRXhwb3J0ZXIgclwiK0VlfX0sdGhpcy5jYWNoZT17bWVzaGVzOm5ldyBNYXAsYXR0cmlidXRlczpuZXcgTWFwLGF0dHJpYnV0ZXNOb3JtYWxpemVkOm5ldyBNYXAsbWF0ZXJpYWxzOm5ldyBNYXAsdGV4dHVyZXM6bmV3IE1hcCxpbWFnZXM6bmV3IE1hcH0sdGhpcy50ZXh0dXJlVXRpbHM9bnVsbH1zZXRQbHVnaW5zKGUpe3RoaXMucGx1Z2lucz1lfXNldFRleHR1cmVVdGlscyhlKXt0aGlzLnRleHR1cmVVdGlscz1lfWFzeW5jIHdyaXRlQXN5bmMoZSxzLG49e30pe3RoaXMub3B0aW9ucz1PYmplY3QuYXNzaWduKHtiaW5hcnk6ITEsdHJzOiExLG9ubHlWaXNpYmxlOiEwLG1heFRleHR1cmVTaXplOjEvMCxhbmltYXRpb25zOltdLGluY2x1ZGVDdXN0b21FeHRlbnNpb25zOiExfSxuKSx0aGlzLm9wdGlvbnMuYW5pbWF0aW9ucy5sZW5ndGg+MCYmKHRoaXMub3B0aW9ucy50cnM9ITApLGF3YWl0IHRoaXMucHJvY2Vzc0lucHV0QXN5bmMoZSksYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5wZW5kaW5nKTtsZXQgdD10aGlzLGk9dC5idWZmZXJzLHI9dC5qc29uO249dC5vcHRpb25zO2xldCBvPXQuZXh0ZW5zaW9uc1VzZWQsYT10LmV4dGVuc2lvbnNSZXF1aXJlZCxsPW5ldyBCbG9iKGkse3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIn0pLGg9T2JqZWN0LmtleXMobyksdT1PYmplY3Qua2V5cyhhKTtpZihoLmxlbmd0aD4wJiYoci5leHRlbnNpb25zVXNlZD1oKSx1Lmxlbmd0aD4wJiYoci5leHRlbnNpb25zUmVxdWlyZWQ9dSksci5idWZmZXJzJiZyLmJ1ZmZlcnMubGVuZ3RoPjAmJihyLmJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aD1sLnNpemUpLG4uYmluYXJ5PT09ITApe2xldCB3PW5ldyBGaWxlUmVhZGVyO3cucmVhZEFzQXJyYXlCdWZmZXIobCksdy5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtsZXQgZj1LKHcucmVzdWx0KSxwPW5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIocWUpKTtwLnNldFVpbnQzMigwLGYuYnl0ZUxlbmd0aCwhMCkscC5zZXRVaW50MzIoNCx0cywhMCk7bGV0IGQ9SyhucyhKU09OLnN0cmluZ2lmeShyKSksMzIpLHk9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcihxZSkpO3kuc2V0VWludDMyKDAsZC5ieXRlTGVuZ3RoLCEwKSx5LnNldFVpbnQzMig0LHNzLCEwKTtsZXQgTT1uZXcgQXJyYXlCdWZmZXIoamUpLGI9bmV3IERhdGFWaWV3KE0pO2Iuc2V0VWludDMyKDAsJGUsITApLGIuc2V0VWludDMyKDQsZXMsITApO2xldCBEPWplK3kuYnl0ZUxlbmd0aCtkLmJ5dGVMZW5ndGgrcC5ieXRlTGVuZ3RoK2YuYnl0ZUxlbmd0aDtiLnNldFVpbnQzMig4LEQsITApO2xldCB4PW5ldyBCbG9iKFtNLHksZCxwLGZdLHt0eXBlOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9KSxBPW5ldyBGaWxlUmVhZGVyO0EucmVhZEFzQXJyYXlCdWZmZXIoeCksQS5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtzKEEucmVzdWx0KX19fWVsc2UgaWYoci5idWZmZXJzJiZyLmJ1ZmZlcnMubGVuZ3RoPjApe2xldCB3PW5ldyBGaWxlUmVhZGVyO3cucmVhZEFzRGF0YVVSTChsKSx3Lm9ubG9hZGVuZD1mdW5jdGlvbigpe2xldCBmPXcucmVzdWx0O3IuYnVmZmVyc1swXS51cmk9ZixzKHIpfX1lbHNlIHMocil9c2VyaWFsaXplVXNlckRhdGEoZSxzKXtpZihPYmplY3Qua2V5cyhlLnVzZXJEYXRhKS5sZW5ndGg9PT0wKXJldHVybjtsZXQgbj10aGlzLm9wdGlvbnMsdD10aGlzLmV4dGVuc2lvbnNVc2VkO3RyeXtsZXQgaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUudXNlckRhdGEpKTtpZihuLmluY2x1ZGVDdXN0b21FeHRlbnNpb25zJiZpLmdsdGZFeHRlbnNpb25zKXtzLmV4dGVuc2lvbnM9PT12b2lkIDAmJihzLmV4dGVuc2lvbnM9e30pO2ZvcihsZXQgciBpbiBpLmdsdGZFeHRlbnNpb25zKXMuZXh0ZW5zaW9uc1tyXT1pLmdsdGZFeHRlbnNpb25zW3JdLHRbcl09ITA7ZGVsZXRlIGkuZ2x0ZkV4dGVuc2lvbnN9T2JqZWN0LmtleXMoaSkubGVuZ3RoPjAmJihzLmV4dHJhcz1pKX1jYXRjaChpKXtjb25zb2xlLndhcm4oXCJUSFJFRS5HTFRGRXhwb3J0ZXI6IHVzZXJEYXRhIG9mICdcIitlLm5hbWUrXCInIHdvbid0IGJlIHNlcmlhbGl6ZWQgYmVjYXVzZSBvZiBKU09OLnN0cmluZ2lmeSBlcnJvciAtIFwiK2kubWVzc2FnZSl9fWdldFVJRChlLHM9ITEpe2lmKHRoaXMudWlkcy5oYXMoZSk9PT0hMSl7bGV0IHQ9bmV3IE1hcDt0LnNldCghMCx0aGlzLnVpZCsrKSx0LnNldCghMSx0aGlzLnVpZCsrKSx0aGlzLnVpZHMuc2V0KGUsdCl9cmV0dXJuIHRoaXMudWlkcy5nZXQoZSkuZ2V0KHMpfWlzTm9ybWFsaXplZE5vcm1hbEF0dHJpYnV0ZShlKXtpZih0aGlzLmNhY2hlLmF0dHJpYnV0ZXNOb3JtYWxpemVkLmhhcyhlKSlyZXR1cm4hMTtsZXQgbj1uZXcgdjtmb3IobGV0IHQ9MCxpPWUuY291bnQ7dDxpO3QrKylpZihNYXRoLmFicyhuLmZyb21CdWZmZXJBdHRyaWJ1dGUoZSx0KS5sZW5ndGgoKS0xKT41ZS00KXJldHVybiExO3JldHVybiEwfWNyZWF0ZU5vcm1hbGl6ZWROb3JtYWxBdHRyaWJ1dGUoZSl7bGV0IHM9dGhpcy5jYWNoZTtpZihzLmF0dHJpYnV0ZXNOb3JtYWxpemVkLmhhcyhlKSlyZXR1cm4gcy5hdHRyaWJ1dGVzTm9ybWFsaXplZC5nZXQoZSk7bGV0IG49ZS5jbG9uZSgpLHQ9bmV3IHY7Zm9yKGxldCBpPTAscj1uLmNvdW50O2k8cjtpKyspdC5mcm9tQnVmZmVyQXR0cmlidXRlKG4saSksdC54PT09MCYmdC55PT09MCYmdC56PT09MD90LnNldFgoMSk6dC5ub3JtYWxpemUoKSxuLnNldFhZWihpLHQueCx0LnksdC56KTtyZXR1cm4gcy5hdHRyaWJ1dGVzTm9ybWFsaXplZC5zZXQoZSxuKSxufWFwcGx5VGV4dHVyZVRyYW5zZm9ybShlLHMpe2xldCBuPSExLHQ9e307KHMub2Zmc2V0LnghPT0wfHxzLm9mZnNldC55IT09MCkmJih0Lm9mZnNldD1zLm9mZnNldC50b0FycmF5KCksbj0hMCkscy5yb3RhdGlvbiE9PTAmJih0LnJvdGF0aW9uPXMucm90YXRpb24sbj0hMCksKHMucmVwZWF0LnghPT0xfHxzLnJlcGVhdC55IT09MSkmJih0LnNjYWxlPXMucmVwZWF0LnRvQXJyYXkoKSxuPSEwKSxuJiYoZS5leHRlbnNpb25zPWUuZXh0ZW5zaW9uc3x8e30sZS5leHRlbnNpb25zLktIUl90ZXh0dXJlX3RyYW5zZm9ybT10LHRoaXMuZXh0ZW5zaW9uc1VzZWQuS0hSX3RleHR1cmVfdHJhbnNmb3JtPSEwKX1hc3luYyBidWlsZE1ldGFsUm91Z2hUZXh0dXJlQXN5bmMoZSxzKXtpZihlPT09cylyZXR1cm4gZTtmdW5jdGlvbiBuKGYpe3JldHVybiBmLmNvbG9yU3BhY2U9PT1rZT9UKGZ1bmN0aW9uKGQpe3JldHVybiBkPC4wNDA0NT9kKi4wNzczOTkzODA4Ok1hdGgucG93KGQqLjk0Nzg2NzI5ODYrLjA1MjEzMjcwMTQsMi40KX0sXCJTUkdCVG9MaW5lYXJcIik6VChmdW5jdGlvbihkKXtyZXR1cm4gZH0sXCJMaW5lYXJUb0xpbmVhclwiKX1UKG4sXCJnZXRFbmNvZGluZ0NvbnZlcnNpb25cIiksZSBpbnN0YW5jZW9mIGsmJihlPWF3YWl0IHRoaXMuZGVjb21wcmVzc1RleHR1cmVBc3luYyhlKSkscyBpbnN0YW5jZW9mIGsmJihzPWF3YWl0IHRoaXMuZGVjb21wcmVzc1RleHR1cmVBc3luYyhzKSk7bGV0IHQ9ZT9lLmltYWdlOm51bGwsaT1zP3MuaW1hZ2U6bnVsbCxyPU1hdGgubWF4KHQ/dC53aWR0aDowLGk/aS53aWR0aDowKSxvPU1hdGgubWF4KHQ/dC5oZWlnaHQ6MCxpP2kuaGVpZ2h0OjApLGE9WGUoKTthLndpZHRoPXIsYS5oZWlnaHQ9bztsZXQgbD1hLmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KTtsLmZpbGxTdHlsZT1cIiMwMGZmZmZcIixsLmZpbGxSZWN0KDAsMCxyLG8pO2xldCBoPWwuZ2V0SW1hZ2VEYXRhKDAsMCxyLG8pO2lmKHQpe2wuZHJhd0ltYWdlKHQsMCwwLHIsbyk7bGV0IGY9bihlKSxwPWwuZ2V0SW1hZ2VEYXRhKDAsMCxyLG8pLmRhdGE7Zm9yKGxldCBkPTI7ZDxwLmxlbmd0aDtkKz00KWguZGF0YVtkXT1mKHBbZF0vMjU2KSoyNTZ9aWYoaSl7bC5kcmF3SW1hZ2UoaSwwLDAscixvKTtsZXQgZj1uKHMpLHA9bC5nZXRJbWFnZURhdGEoMCwwLHIsbykuZGF0YTtmb3IobGV0IGQ9MTtkPHAubGVuZ3RoO2QrPTQpaC5kYXRhW2RdPWYocFtkXS8yNTYpKjI1Nn1sLnB1dEltYWdlRGF0YShoLDAsMCk7bGV0IHc9KGV8fHMpLmNsb25lKCk7cmV0dXJuIHcuc291cmNlPW5ldyBIZShhKSx3LmNvbG9yU3BhY2U9RmUsdy5jaGFubmVsPShlfHxzKS5jaGFubmVsLGUmJnMmJmUuY2hhbm5lbCE9PXMuY2hhbm5lbCYmY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBVViBjaGFubmVscyBmb3IgbWV0YWxuZXNzTWFwIGFuZCByb3VnaG5lc3NNYXAgdGV4dHVyZXMgbXVzdCBtYXRjaC5cIiksY29uc29sZS53YXJuKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBNZXJnZWQgbWV0YWxuZXNzTWFwIGFuZCByb3VnaG5lc3NNYXAgdGV4dHVyZXMuXCIpLHd9YXN5bmMgZGVjb21wcmVzc1RleHR1cmVBc3luYyhlLHM9MS8wKXtpZih0aGlzLnRleHR1cmVVdGlscz09PW51bGwpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBzZXRUZXh0dXJlVXRpbHMoKSBtdXN0IGJlIGNhbGxlZCB0byBwcm9jZXNzIGNvbXByZXNzZWQgdGV4dHVyZXMuXCIpO3JldHVybiBhd2FpdCB0aGlzLnRleHR1cmVVdGlscy5kZWNvbXByZXNzKGUscyl9cHJvY2Vzc0J1ZmZlcihlKXtsZXQgcz10aGlzLmpzb24sbj10aGlzLmJ1ZmZlcnM7cmV0dXJuIHMuYnVmZmVyc3x8KHMuYnVmZmVycz1be2J5dGVMZW5ndGg6MH1dKSxuLnB1c2goZSksMH1wcm9jZXNzQnVmZmVyVmlldyhlLHMsbix0LGkpe2xldCByPXRoaXMuanNvbjtyLmJ1ZmZlclZpZXdzfHwoci5idWZmZXJWaWV3cz1bXSk7bGV0IG87c3dpdGNoKHMpe2Nhc2UgZy5CWVRFOmNhc2UgZy5VTlNJR05FRF9CWVRFOm89MTticmVhaztjYXNlIGcuU0hPUlQ6Y2FzZSBnLlVOU0lHTkVEX1NIT1JUOm89MjticmVhaztkZWZhdWx0Om89NH1sZXQgYT1lLml0ZW1TaXplKm87aT09PWcuQVJSQVlfQlVGRkVSJiYoYT1NYXRoLmNlaWwoYS80KSo0KTtsZXQgbD1KZSh0KmEpLGg9bmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcihsKSksdT0wO2ZvcihsZXQgcD1uO3A8bit0O3ArKyl7Zm9yKGxldCBkPTA7ZDxlLml0ZW1TaXplO2QrKyl7bGV0IHk7ZS5pdGVtU2l6ZT40P3k9ZS5hcnJheVtwKmUuaXRlbVNpemUrZF06KGQ9PT0wP3k9ZS5nZXRYKHApOmQ9PT0xP3k9ZS5nZXRZKHApOmQ9PT0yP3k9ZS5nZXRaKHApOmQ9PT0zJiYoeT1lLmdldFcocCkpLGUubm9ybWFsaXplZD09PSEwJiYoeT1GLm5vcm1hbGl6ZSh5LGUuYXJyYXkpKSkscz09PWcuRkxPQVQ/aC5zZXRGbG9hdDMyKHUseSwhMCk6cz09PWcuSU5UP2guc2V0SW50MzIodSx5LCEwKTpzPT09Zy5VTlNJR05FRF9JTlQ/aC5zZXRVaW50MzIodSx5LCEwKTpzPT09Zy5TSE9SVD9oLnNldEludDE2KHUseSwhMCk6cz09PWcuVU5TSUdORURfU0hPUlQ/aC5zZXRVaW50MTYodSx5LCEwKTpzPT09Zy5CWVRFP2guc2V0SW50OCh1LHkpOnM9PT1nLlVOU0lHTkVEX0JZVEUmJmguc2V0VWludDgodSx5KSx1Kz1vfXUlYSE9PTAmJih1Kz1hLXUlYSl9bGV0IHc9e2J1ZmZlcjp0aGlzLnByb2Nlc3NCdWZmZXIoaC5idWZmZXIpLGJ5dGVPZmZzZXQ6dGhpcy5ieXRlT2Zmc2V0LGJ5dGVMZW5ndGg6bH07cmV0dXJuIGkhPT12b2lkIDAmJih3LnRhcmdldD1pKSxpPT09Zy5BUlJBWV9CVUZGRVImJih3LmJ5dGVTdHJpZGU9YSksdGhpcy5ieXRlT2Zmc2V0Kz1sLHIuYnVmZmVyVmlld3MucHVzaCh3KSx7aWQ6ci5idWZmZXJWaWV3cy5sZW5ndGgtMSxieXRlTGVuZ3RoOjB9fXByb2Nlc3NCdWZmZXJWaWV3SW1hZ2UoZSl7bGV0IHM9dGhpcyxuPXMuanNvbjtyZXR1cm4gbi5idWZmZXJWaWV3c3x8KG4uYnVmZmVyVmlld3M9W10pLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe2xldCBpPW5ldyBGaWxlUmVhZGVyO2kucmVhZEFzQXJyYXlCdWZmZXIoZSksaS5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXtsZXQgcj1LKGkucmVzdWx0KSxvPXtidWZmZXI6cy5wcm9jZXNzQnVmZmVyKHIpLGJ5dGVPZmZzZXQ6cy5ieXRlT2Zmc2V0LGJ5dGVMZW5ndGg6ci5ieXRlTGVuZ3RofTtzLmJ5dGVPZmZzZXQrPXIuYnl0ZUxlbmd0aCx0KG4uYnVmZmVyVmlld3MucHVzaChvKS0xKX19KX1wcm9jZXNzQWNjZXNzb3IoZSxzLG4sdCl7bGV0IGk9dGhpcy5qc29uLHI9ezE6XCJTQ0FMQVJcIiwyOlwiVkVDMlwiLDM6XCJWRUMzXCIsNDpcIlZFQzRcIiw5OlwiTUFUM1wiLDE2OlwiTUFUNFwifSxvO2lmKGUuYXJyYXkuY29uc3RydWN0b3I9PT1GbG9hdDMyQXJyYXkpbz1nLkZMT0FUO2Vsc2UgaWYoZS5hcnJheS5jb25zdHJ1Y3Rvcj09PUludDMyQXJyYXkpbz1nLklOVDtlbHNlIGlmKGUuYXJyYXkuY29uc3RydWN0b3I9PT1VaW50MzJBcnJheSlvPWcuVU5TSUdORURfSU5UO2Vsc2UgaWYoZS5hcnJheS5jb25zdHJ1Y3Rvcj09PUludDE2QXJyYXkpbz1nLlNIT1JUO2Vsc2UgaWYoZS5hcnJheS5jb25zdHJ1Y3Rvcj09PVVpbnQxNkFycmF5KW89Zy5VTlNJR05FRF9TSE9SVDtlbHNlIGlmKGUuYXJyYXkuY29uc3RydWN0b3I9PT1JbnQ4QXJyYXkpbz1nLkJZVEU7ZWxzZSBpZihlLmFycmF5LmNvbnN0cnVjdG9yPT09VWludDhBcnJheSlvPWcuVU5TSUdORURfQllURTtlbHNlIHRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZFeHBvcnRlcjogVW5zdXBwb3J0ZWQgYnVmZmVyQXR0cmlidXRlIGNvbXBvbmVudCB0eXBlOiBcIitlLmFycmF5LmNvbnN0cnVjdG9yLm5hbWUpO2lmKG49PT12b2lkIDAmJihuPTApLCh0PT09dm9pZCAwfHx0PT09MS8wKSYmKHQ9ZS5jb3VudCksdD09PTApcmV0dXJuIG51bGw7bGV0IGE9cnMoZSxuLHQpLGw7cyE9PXZvaWQgMCYmKGw9ZT09PXMuaW5kZXg/Zy5FTEVNRU5UX0FSUkFZX0JVRkZFUjpnLkFSUkFZX0JVRkZFUik7bGV0IGg9dGhpcy5wcm9jZXNzQnVmZmVyVmlldyhlLG8sbix0LGwpLHU9e2J1ZmZlclZpZXc6aC5pZCxieXRlT2Zmc2V0OmguYnl0ZU9mZnNldCxjb21wb25lbnRUeXBlOm8sY291bnQ6dCxtYXg6YS5tYXgsbWluOmEubWluLHR5cGU6cltlLml0ZW1TaXplXX07cmV0dXJuIGUubm9ybWFsaXplZD09PSEwJiYodS5ub3JtYWxpemVkPSEwKSxpLmFjY2Vzc29yc3x8KGkuYWNjZXNzb3JzPVtdKSxpLmFjY2Vzc29ycy5wdXNoKHUpLTF9cHJvY2Vzc0ltYWdlKGUscyxuLHQ9XCJpbWFnZS9wbmdcIil7aWYoZSE9PW51bGwpe2xldCBpPXRoaXMscj1pLmNhY2hlLG89aS5qc29uLGE9aS5vcHRpb25zLGw9aS5wZW5kaW5nO3IuaW1hZ2VzLmhhcyhlKXx8ci5pbWFnZXMuc2V0KGUse30pO2xldCBoPXIuaW1hZ2VzLmdldChlKSx1PXQrXCI6ZmxpcFkvXCIrbi50b1N0cmluZygpO2lmKGhbdV0hPT12b2lkIDApcmV0dXJuIGhbdV07by5pbWFnZXN8fChvLmltYWdlcz1bXSk7bGV0IHc9e21pbWVUeXBlOnR9LGY9WGUoKTtmLndpZHRoPU1hdGgubWluKGUud2lkdGgsYS5tYXhUZXh0dXJlU2l6ZSksZi5oZWlnaHQ9TWF0aC5taW4oZS5oZWlnaHQsYS5tYXhUZXh0dXJlU2l6ZSk7bGV0IHA9Zi5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSk7aWYobj09PSEwJiYocC50cmFuc2xhdGUoMCxmLmhlaWdodCkscC5zY2FsZSgxLC0xKSksZS5kYXRhIT09dm9pZCAwKXtzIT09QmUmJmNvbnNvbGUuZXJyb3IoXCJHTFRGRXhwb3J0ZXI6IE9ubHkgUkdCQUZvcm1hdCBpcyBzdXBwb3J0ZWQuXCIscyksKGUud2lkdGg+YS5tYXhUZXh0dXJlU2l6ZXx8ZS5oZWlnaHQ+YS5tYXhUZXh0dXJlU2l6ZSkmJmNvbnNvbGUud2FybihcIkdMVEZFeHBvcnRlcjogSW1hZ2Ugc2l6ZSBpcyBiaWdnZXIgdGhhbiBtYXhUZXh0dXJlU2l6ZVwiLGUpO2xldCB5PW5ldyBVaW50OENsYW1wZWRBcnJheShlLmhlaWdodCplLndpZHRoKjQpO2ZvcihsZXQgTT0wO008eS5sZW5ndGg7TSs9NCl5W00rMF09ZS5kYXRhW00rMF0seVtNKzFdPWUuZGF0YVtNKzFdLHlbTSsyXT1lLmRhdGFbTSsyXSx5W00rM109ZS5kYXRhW00rM107cC5wdXRJbWFnZURhdGEobmV3IEltYWdlRGF0YSh5LGUud2lkdGgsZS5oZWlnaHQpLDAsMCl9ZWxzZSBpZih0eXBlb2YgSFRNTEltYWdlRWxlbWVudDxcInVcIiYmZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnR8fHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudDxcInVcIiYmZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50fHx0eXBlb2YgSW1hZ2VCaXRtYXA8XCJ1XCImJmUgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcHx8dHlwZW9mIE9mZnNjcmVlbkNhbnZhczxcInVcIiYmZSBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcylwLmRyYXdJbWFnZShlLDAsMCxmLndpZHRoLGYuaGVpZ2h0KTtlbHNlIHRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZFeHBvcnRlcjogSW52YWxpZCBpbWFnZSB0eXBlLiBVc2UgSFRNTEltYWdlRWxlbWVudCwgSFRNTENhbnZhc0VsZW1lbnQsIEltYWdlQml0bWFwIG9yIE9mZnNjcmVlbkNhbnZhcy5cIik7YS5iaW5hcnk9PT0hMD9sLnB1c2goV2UoZix0KS50aGVuKHk9PmkucHJvY2Vzc0J1ZmZlclZpZXdJbWFnZSh5KSkudGhlbih5PT57dy5idWZmZXJWaWV3PXl9KSk6Zi50b0RhdGFVUkwhPT12b2lkIDA/dy51cmk9Zi50b0RhdGFVUkwodCk6bC5wdXNoKFdlKGYsdCkudGhlbih5PT5uZXcgRmlsZVJlYWRlcigpLnJlYWRBc0RhdGFVUkwoeSkpLnRoZW4oeT0+e3cudXJpPXl9KSk7bGV0IGQ9by5pbWFnZXMucHVzaCh3KS0xO3JldHVybiBoW3VdPWQsZH1lbHNlIHRocm93IG5ldyBFcnJvcihcIlRIUkVFLkdMVEZFeHBvcnRlcjogTm8gdmFsaWQgaW1hZ2UgZGF0YSBmb3VuZC4gVW5hYmxlIHRvIHByb2Nlc3MgdGV4dHVyZS5cIil9cHJvY2Vzc1NhbXBsZXIoZSl7bGV0IHM9dGhpcy5qc29uO3Muc2FtcGxlcnN8fChzLnNhbXBsZXJzPVtdKTtsZXQgbj17bWFnRmlsdGVyOk5bZS5tYWdGaWx0ZXJdLG1pbkZpbHRlcjpOW2UubWluRmlsdGVyXSx3cmFwUzpOW2Uud3JhcFNdLHdyYXBUOk5bZS53cmFwVF19O3JldHVybiBzLnNhbXBsZXJzLnB1c2gobiktMX1hc3luYyBwcm9jZXNzVGV4dHVyZUFzeW5jKGUpe2xldCBuPXRoaXMub3B0aW9ucyx0PXRoaXMuY2FjaGUsaT10aGlzLmpzb247aWYodC50ZXh0dXJlcy5oYXMoZSkpcmV0dXJuIHQudGV4dHVyZXMuZ2V0KGUpO2kudGV4dHVyZXN8fChpLnRleHR1cmVzPVtdKSxlIGluc3RhbmNlb2YgayYmKGU9YXdhaXQgdGhpcy5kZWNvbXByZXNzVGV4dHVyZUFzeW5jKGUsbi5tYXhUZXh0dXJlU2l6ZSkpO2xldCByPWUudXNlckRhdGEubWltZVR5cGU7cj09PVwiaW1hZ2Uvd2VicFwiJiYocj1cImltYWdlL3BuZ1wiKTtsZXQgbz17c2FtcGxlcjp0aGlzLnByb2Nlc3NTYW1wbGVyKGUpLHNvdXJjZTp0aGlzLnByb2Nlc3NJbWFnZShlLmltYWdlLGUuZm9ybWF0LGUuZmxpcFkscil9O2UubmFtZSYmKG8ubmFtZT1lLm5hbWUpLGF3YWl0IHRoaXMuX2ludm9rZUFsbEFzeW5jKGFzeW5jIGZ1bmN0aW9uKGwpe2wud3JpdGVUZXh0dXJlJiZhd2FpdCBsLndyaXRlVGV4dHVyZShlLG8pfSk7bGV0IGE9aS50ZXh0dXJlcy5wdXNoKG8pLTE7cmV0dXJuIHQudGV4dHVyZXMuc2V0KGUsYSksYX1hc3luYyBwcm9jZXNzTWF0ZXJpYWxBc3luYyhlKXtsZXQgcz10aGlzLmNhY2hlLG49dGhpcy5qc29uO2lmKHMubWF0ZXJpYWxzLmhhcyhlKSlyZXR1cm4gcy5tYXRlcmlhbHMuZ2V0KGUpO2lmKGUuaXNTaGFkZXJNYXRlcmlhbClyZXR1cm4gY29uc29sZS53YXJuKFwiR0xURkV4cG9ydGVyOiBUSFJFRS5TaGFkZXJNYXRlcmlhbCBub3Qgc3VwcG9ydGVkLlwiKSxudWxsO24ubWF0ZXJpYWxzfHwobi5tYXRlcmlhbHM9W10pO2xldCB0PXtwYnJNZXRhbGxpY1JvdWdobmVzczp7fX07ZS5pc01lc2hTdGFuZGFyZE1hdGVyaWFsIT09ITAmJmUuaXNNZXNoQmFzaWNNYXRlcmlhbCE9PSEwJiZjb25zb2xlLndhcm4oXCJHTFRGRXhwb3J0ZXI6IFVzZSBNZXNoU3RhbmRhcmRNYXRlcmlhbCBvciBNZXNoQmFzaWNNYXRlcmlhbCBmb3IgYmVzdCByZXN1bHRzLlwiKTtsZXQgaT1lLmNvbG9yLnRvQXJyYXkoKS5jb25jYXQoW2Uub3BhY2l0eV0pO2lmKEIoaSxbMSwxLDEsMV0pfHwodC5wYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3I9aSksZS5pc01lc2hTdGFuZGFyZE1hdGVyaWFsPyh0LnBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yPWUubWV0YWxuZXNzLHQucGJyTWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yPWUucm91Z2huZXNzKToodC5wYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY0ZhY3Rvcj0wLHQucGJyTWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yPTEpLGUubWV0YWxuZXNzTWFwfHxlLnJvdWdobmVzc01hcCl7bGV0IG89YXdhaXQgdGhpcy5idWlsZE1ldGFsUm91Z2hUZXh0dXJlQXN5bmMoZS5tZXRhbG5lc3NNYXAsZS5yb3VnaG5lc3NNYXApLGE9e2luZGV4OmF3YWl0IHRoaXMucHJvY2Vzc1RleHR1cmVBc3luYyhvKSx0ZXhDb29yZDpvLmNoYW5uZWx9O3RoaXMuYXBwbHlUZXh0dXJlVHJhbnNmb3JtKGEsbyksdC5wYnJNZXRhbGxpY1JvdWdobmVzcy5tZXRhbGxpY1JvdWdobmVzc1RleHR1cmU9YX1pZihlLm1hcCl7bGV0IG89e2luZGV4OmF3YWl0IHRoaXMucHJvY2Vzc1RleHR1cmVBc3luYyhlLm1hcCksdGV4Q29vcmQ6ZS5tYXAuY2hhbm5lbH07dGhpcy5hcHBseVRleHR1cmVUcmFuc2Zvcm0obyxlLm1hcCksdC5wYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JUZXh0dXJlPW99aWYoZS5lbWlzc2l2ZSl7bGV0IG89ZS5lbWlzc2l2ZTtpZihNYXRoLm1heChvLnIsby5nLG8uYik+MCYmKHQuZW1pc3NpdmVGYWN0b3I9ZS5lbWlzc2l2ZS50b0FycmF5KCkpLGUuZW1pc3NpdmVNYXApe2xldCBsPXtpbmRleDphd2FpdCB0aGlzLnByb2Nlc3NUZXh0dXJlQXN5bmMoZS5lbWlzc2l2ZU1hcCksdGV4Q29vcmQ6ZS5lbWlzc2l2ZU1hcC5jaGFubmVsfTt0aGlzLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShsLGUuZW1pc3NpdmVNYXApLHQuZW1pc3NpdmVUZXh0dXJlPWx9fWlmKGUubm9ybWFsTWFwKXtsZXQgbz17aW5kZXg6YXdhaXQgdGhpcy5wcm9jZXNzVGV4dHVyZUFzeW5jKGUubm9ybWFsTWFwKSx0ZXhDb29yZDplLm5vcm1hbE1hcC5jaGFubmVsfTtlLm5vcm1hbFNjYWxlJiZlLm5vcm1hbFNjYWxlLnghPT0xJiYoby5zY2FsZT1lLm5vcm1hbFNjYWxlLngpLHRoaXMuYXBwbHlUZXh0dXJlVHJhbnNmb3JtKG8sZS5ub3JtYWxNYXApLHQubm9ybWFsVGV4dHVyZT1vfWlmKGUuYW9NYXApe2xldCBvPXtpbmRleDphd2FpdCB0aGlzLnByb2Nlc3NUZXh0dXJlQXN5bmMoZS5hb01hcCksdGV4Q29vcmQ6ZS5hb01hcC5jaGFubmVsfTtlLmFvTWFwSW50ZW5zaXR5IT09MSYmKG8uc3RyZW5ndGg9ZS5hb01hcEludGVuc2l0eSksdGhpcy5hcHBseVRleHR1cmVUcmFuc2Zvcm0obyxlLmFvTWFwKSx0Lm9jY2x1c2lvblRleHR1cmU9b31lLnRyYW5zcGFyZW50P3QuYWxwaGFNb2RlPVwiQkxFTkRcIjplLmFscGhhVGVzdD4wJiYodC5hbHBoYU1vZGU9XCJNQVNLXCIsdC5hbHBoYUN1dG9mZj1lLmFscGhhVGVzdCksZS5zaWRlPT09TmUmJih0LmRvdWJsZVNpZGVkPSEwKSxlLm5hbWUhPT1cIlwiJiYodC5uYW1lPWUubmFtZSksdGhpcy5zZXJpYWxpemVVc2VyRGF0YShlLHQpLGF3YWl0IHRoaXMuX2ludm9rZUFsbEFzeW5jKGFzeW5jIGZ1bmN0aW9uKG8pe28ud3JpdGVNYXRlcmlhbEFzeW5jJiZhd2FpdCBvLndyaXRlTWF0ZXJpYWxBc3luYyhlLHQpfSk7bGV0IHI9bi5tYXRlcmlhbHMucHVzaCh0KS0xO3JldHVybiBzLm1hdGVyaWFscy5zZXQoZSxyKSxyfWFzeW5jIHByb2Nlc3NNZXNoQXN5bmMoZSl7bGV0IHM9dGhpcy5jYWNoZSxuPXRoaXMuanNvbix0PVtlLmdlb21ldHJ5LnV1aWRdO2lmKEFycmF5LmlzQXJyYXkoZS5tYXRlcmlhbCkpZm9yKGxldCB4PTAsQT1lLm1hdGVyaWFsLmxlbmd0aDt4PEE7eCsrKXQucHVzaChlLm1hdGVyaWFsW3hdLnV1aWQpO2Vsc2UgdC5wdXNoKGUubWF0ZXJpYWwudXVpZCk7bGV0IGk9dC5qb2luKFwiOlwiKTtpZihzLm1lc2hlcy5oYXMoaSkpcmV0dXJuIHMubWVzaGVzLmdldChpKTtsZXQgcj1lLmdlb21ldHJ5LG87ZS5pc0xpbmVTZWdtZW50cz9vPWcuTElORVM6ZS5pc0xpbmVMb29wP289Zy5MSU5FX0xPT1A6ZS5pc0xpbmU/bz1nLkxJTkVfU1RSSVA6ZS5pc1BvaW50cz9vPWcuUE9JTlRTOm89ZS5tYXRlcmlhbC53aXJlZnJhbWU/Zy5MSU5FUzpnLlRSSUFOR0xFUztsZXQgYT17fSxsPXt9LGg9W10sdT1bXSx3PXt1djpcIlRFWENPT1JEXzBcIix1djE6XCJURVhDT09SRF8xXCIsdXYyOlwiVEVYQ09PUkRfMlwiLHV2MzpcIlRFWENPT1JEXzNcIixjb2xvcjpcIkNPTE9SXzBcIixza2luV2VpZ2h0OlwiV0VJR0hUU18wXCIsc2tpbkluZGV4OlwiSk9JTlRTXzBcIn0sZj1yLmdldEF0dHJpYnV0ZShcIm5vcm1hbFwiKTtmIT09dm9pZCAwJiYhdGhpcy5pc05vcm1hbGl6ZWROb3JtYWxBdHRyaWJ1dGUoZikmJihjb25zb2xlLndhcm4oXCJUSFJFRS5HTFRGRXhwb3J0ZXI6IENyZWF0aW5nIG5vcm1hbGl6ZWQgbm9ybWFsIGF0dHJpYnV0ZSBmcm9tIHRoZSBub24tbm9ybWFsaXplZCBvbmUuXCIpLHIuc2V0QXR0cmlidXRlKFwibm9ybWFsXCIsdGhpcy5jcmVhdGVOb3JtYWxpemVkTm9ybWFsQXR0cmlidXRlKGYpKSk7bGV0IHA9bnVsbDtmb3IobGV0IHggaW4gci5hdHRyaWJ1dGVzKXtpZih4LnNsaWNlKDAsNSk9PT1cIm1vcnBoXCIpY29udGludWU7bGV0IEE9ci5hdHRyaWJ1dGVzW3hdO2lmKHg9d1t4XXx8eC50b1VwcGVyQ2FzZSgpLC9eKFBPU0lUSU9OfE5PUk1BTHxUQU5HRU5UfFRFWENPT1JEX1xcZCt8Q09MT1JfXFxkK3xKT0lOVFNfXFxkK3xXRUlHSFRTX1xcZCspJC8udGVzdCh4KXx8KHg9XCJfXCIreCkscy5hdHRyaWJ1dGVzLmhhcyh0aGlzLmdldFVJRChBKSkpe2xbeF09cy5hdHRyaWJ1dGVzLmdldCh0aGlzLmdldFVJRChBKSk7Y29udGludWV9cD1udWxsO2xldCBtPUEuYXJyYXk7eD09PVwiSk9JTlRTXzBcIiYmIShtIGluc3RhbmNlb2YgVWludDE2QXJyYXkpJiYhKG0gaW5zdGFuY2VvZiBVaW50OEFycmF5KT8oY29uc29sZS53YXJuKCdHTFRGRXhwb3J0ZXI6IEF0dHJpYnV0ZSBcInNraW5JbmRleFwiIGNvbnZlcnRlZCB0byB0eXBlIFVOU0lHTkVEX1NIT1JULicpLHA9bmV3IFUobmV3IFVpbnQxNkFycmF5KG0pLEEuaXRlbVNpemUsQS5ub3JtYWxpemVkKSk6KG0gaW5zdGFuY2VvZiBVaW50MzJBcnJheXx8bSBpbnN0YW5jZW9mIEludDMyQXJyYXkpJiYheC5zdGFydHNXaXRoKFwiX1wiKSYmKGNvbnNvbGUud2FybignR0xURkV4cG9ydGVyOiBBdHRyaWJ1dGUgXCInLmNvbmNhdCh4LCdcIiBjb252ZXJ0ZWQgdG8gdHlwZSBGTE9BVC4nKSkscD1QLlV0aWxzLnRvRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShBKSk7bGV0IEU9dGhpcy5wcm9jZXNzQWNjZXNzb3IocHx8QSxyKTtFIT09bnVsbCYmKHguc3RhcnRzV2l0aChcIl9cIil8fHRoaXMuZGV0ZWN0TWVzaFF1YW50aXphdGlvbih4LEEpLGxbeF09RSxzLmF0dHJpYnV0ZXMuc2V0KHRoaXMuZ2V0VUlEKEEpLEUpKX1pZihmIT09dm9pZCAwJiZyLnNldEF0dHJpYnV0ZShcIm5vcm1hbFwiLGYpLE9iamVjdC5rZXlzKGwpLmxlbmd0aD09PTApcmV0dXJuIG51bGw7aWYoZS5tb3JwaFRhcmdldEluZmx1ZW5jZXMhPT12b2lkIDAmJmUubW9ycGhUYXJnZXRJbmZsdWVuY2VzLmxlbmd0aD4wKXtsZXQgeD1bXSxBPVtdLEk9e307aWYoZS5tb3JwaFRhcmdldERpY3Rpb25hcnkhPT12b2lkIDApZm9yKGxldCBtIGluIGUubW9ycGhUYXJnZXREaWN0aW9uYXJ5KUlbZS5tb3JwaFRhcmdldERpY3Rpb25hcnlbbV1dPW07Zm9yKGxldCBtPTA7bTxlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5sZW5ndGg7KyttKXtsZXQgRT17fSxJZT0hMTtmb3IobGV0IF8gaW4gci5tb3JwaEF0dHJpYnV0ZXMpe2lmKF8hPT1cInBvc2l0aW9uXCImJl8hPT1cIm5vcm1hbFwiKXtJZXx8KGNvbnNvbGUud2FybihcIkdMVEZFeHBvcnRlcjogT25seSBQT1NJVElPTiBhbmQgTk9STUFMIG1vcnBoIGFyZSBzdXBwb3J0ZWQuXCIpLEllPSEwKTtjb250aW51ZX1sZXQgUz1yLm1vcnBoQXR0cmlidXRlc1tfXVttXSxIPV8udG9VcHBlckNhc2UoKSxMPXIuYXR0cmlidXRlc1tfXTtpZihzLmF0dHJpYnV0ZXMuaGFzKHRoaXMuZ2V0VUlEKFMsITApKSl7RVtIXT1zLmF0dHJpYnV0ZXMuZ2V0KHRoaXMuZ2V0VUlEKFMsITApKTtjb250aW51ZX1sZXQgTz1TLmNsb25lKCk7aWYoIXIubW9ycGhUYXJnZXRzUmVsYXRpdmUpZm9yKGxldCBSPTAsWmU9Uy5jb3VudDtSPFplO1IrKylmb3IobGV0IEM9MDtDPFMuaXRlbVNpemU7QysrKUM9PT0wJiZPLnNldFgoUixTLmdldFgoUiktTC5nZXRYKFIpKSxDPT09MSYmTy5zZXRZKFIsUy5nZXRZKFIpLUwuZ2V0WShSKSksQz09PTImJk8uc2V0WihSLFMuZ2V0WihSKS1MLmdldFooUikpLEM9PT0zJiZPLnNldFcoUixTLmdldFcoUiktTC5nZXRXKFIpKTtFW0hdPXRoaXMucHJvY2Vzc0FjY2Vzc29yKE8scikscy5hdHRyaWJ1dGVzLnNldCh0aGlzLmdldFVJRChMLCEwKSxFW0hdKX11LnB1c2goRSkseC5wdXNoKGUubW9ycGhUYXJnZXRJbmZsdWVuY2VzW21dKSxlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSE9PXZvaWQgMCYmQS5wdXNoKElbbV0pfWEud2VpZ2h0cz14LEEubGVuZ3RoPjAmJihhLmV4dHJhcz17fSxhLmV4dHJhcy50YXJnZXROYW1lcz1BKX1sZXQgZD1BcnJheS5pc0FycmF5KGUubWF0ZXJpYWwpO2lmKGQmJnIuZ3JvdXBzLmxlbmd0aD09PTApcmV0dXJuIG51bGw7bGV0IHk9ITE7aWYoZCYmci5pbmRleD09PW51bGwpe2xldCB4PVtdO2ZvcihsZXQgQT0wLEk9ci5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50O0E8STtBKyspeFtBXT1BO3Iuc2V0SW5kZXgoeCkseT0hMH1sZXQgTT1kP2UubWF0ZXJpYWw6W2UubWF0ZXJpYWxdLGI9ZD9yLmdyb3Vwczpbe21hdGVyaWFsSW5kZXg6MCxzdGFydDp2b2lkIDAsY291bnQ6dm9pZCAwfV07Zm9yKGxldCB4PTAsQT1iLmxlbmd0aDt4PEE7eCsrKXtsZXQgST17bW9kZTpvLGF0dHJpYnV0ZXM6bH07aWYodGhpcy5zZXJpYWxpemVVc2VyRGF0YShyLEkpLHUubGVuZ3RoPjAmJihJLnRhcmdldHM9dSksci5pbmRleCE9PW51bGwpe2xldCBFPXRoaXMuZ2V0VUlEKHIuaW5kZXgpOyhiW3hdLnN0YXJ0IT09dm9pZCAwfHxiW3hdLmNvdW50IT09dm9pZCAwKSYmKEUrPVwiOlwiK2JbeF0uc3RhcnQrXCI6XCIrYlt4XS5jb3VudCkscy5hdHRyaWJ1dGVzLmhhcyhFKT9JLmluZGljZXM9cy5hdHRyaWJ1dGVzLmdldChFKTooSS5pbmRpY2VzPXRoaXMucHJvY2Vzc0FjY2Vzc29yKHIuaW5kZXgscixiW3hdLnN0YXJ0LGJbeF0uY291bnQpLHMuYXR0cmlidXRlcy5zZXQoRSxJLmluZGljZXMpKSxJLmluZGljZXM9PT1udWxsJiZkZWxldGUgSS5pbmRpY2VzfWxldCBtPWF3YWl0IHRoaXMucHJvY2Vzc01hdGVyaWFsQXN5bmMoTVtiW3hdLm1hdGVyaWFsSW5kZXhdKTttIT09bnVsbCYmKEkubWF0ZXJpYWw9bSksaC5wdXNoKEkpfXk9PT0hMCYmci5zZXRJbmRleChudWxsKSxhLnByaW1pdGl2ZXM9aCxuLm1lc2hlc3x8KG4ubWVzaGVzPVtdKSxhd2FpdCB0aGlzLl9pbnZva2VBbGxBc3luYyhmdW5jdGlvbih4KXt4LndyaXRlTWVzaCYmeC53cml0ZU1lc2goZSxhKX0pO2xldCBEPW4ubWVzaGVzLnB1c2goYSktMTtyZXR1cm4gcy5tZXNoZXMuc2V0KGksRCksRH1kZXRlY3RNZXNoUXVhbnRpemF0aW9uKGUscyl7aWYodGhpcy5leHRlbnNpb25zVXNlZFtZXSlyZXR1cm47bGV0IG47c3dpdGNoKHMuYXJyYXkuY29uc3RydWN0b3Ipe2Nhc2UgSW50OEFycmF5Om49XCJieXRlXCI7YnJlYWs7Y2FzZSBVaW50OEFycmF5Om49XCJ1bnNpZ25lZCBieXRlXCI7YnJlYWs7Y2FzZSBJbnQxNkFycmF5Om49XCJzaG9ydFwiO2JyZWFrO2Nhc2UgVWludDE2QXJyYXk6bj1cInVuc2lnbmVkIHNob3J0XCI7YnJlYWs7ZGVmYXVsdDpyZXR1cm59cy5ub3JtYWxpemVkJiYobis9XCIgbm9ybWFsaXplZFwiKTtsZXQgdD1lLnNwbGl0KFwiX1wiLDEpWzBdO1llW3RdJiZZZVt0XS5pbmNsdWRlcyhuKSYmKHRoaXMuZXh0ZW5zaW9uc1VzZWRbWV09ITAsdGhpcy5leHRlbnNpb25zUmVxdWlyZWRbWV09ITApfXByb2Nlc3NDYW1lcmEoZSl7bGV0IHM9dGhpcy5qc29uO3MuY2FtZXJhc3x8KHMuY2FtZXJhcz1bXSk7bGV0IG49ZS5pc09ydGhvZ3JhcGhpY0NhbWVyYSx0PXt0eXBlOm4/XCJvcnRob2dyYXBoaWNcIjpcInBlcnNwZWN0aXZlXCJ9O3JldHVybiBuP3Qub3J0aG9ncmFwaGljPXt4bWFnOmUucmlnaHQqMix5bWFnOmUudG9wKjIsemZhcjplLmZhcjw9MD8uMDAxOmUuZmFyLHpuZWFyOmUubmVhcjwwPzA6ZS5uZWFyfTp0LnBlcnNwZWN0aXZlPXthc3BlY3RSYXRpbzplLmFzcGVjdCx5Zm92OkYuZGVnVG9SYWQoZS5mb3YpLHpmYXI6ZS5mYXI8PTA/LjAwMTplLmZhcix6bmVhcjplLm5lYXI8MD8wOmUubmVhcn0sZS5uYW1lIT09XCJcIiYmKHQubmFtZT1lLnR5cGUpLHMuY2FtZXJhcy5wdXNoKHQpLTF9cHJvY2Vzc0FuaW1hdGlvbihlLHMpe2xldCBuPXRoaXMuanNvbix0PXRoaXMubm9kZU1hcDtuLmFuaW1hdGlvbnN8fChuLmFuaW1hdGlvbnM9W10pLGU9UC5VdGlscy5tZXJnZU1vcnBoVGFyZ2V0VHJhY2tzKGUuY2xvbmUoKSxzKTtsZXQgaT1lLnRyYWNrcyxyPVtdLG89W107Zm9yKGxldCBhPTA7YTxpLmxlbmd0aDsrK2Epe2xldCBsPWlbYV0saD16LnBhcnNlVHJhY2tOYW1lKGwubmFtZSksdT16LmZpbmROb2RlKHMsaC5ub2RlTmFtZSksdz1LZVtoLnByb3BlcnR5TmFtZV07aWYoaC5vYmplY3ROYW1lPT09XCJib25lc1wiJiYodS5pc1NraW5uZWRNZXNoPT09ITA/dT11LnNrZWxldG9uLmdldEJvbmVCeU5hbWUoaC5vYmplY3RJbmRleCk6dT12b2lkIDApLCF1fHwhdyl7Y29uc29sZS53YXJuKCdUSFJFRS5HTFRGRXhwb3J0ZXI6IENvdWxkIG5vdCBleHBvcnQgYW5pbWF0aW9uIHRyYWNrIFwiJXNcIi4nLGwubmFtZSk7Y29udGludWV9bGV0IGY9MSxwPWwudmFsdWVzLmxlbmd0aC9sLnRpbWVzLmxlbmd0aDt3PT09S2UubW9ycGhUYXJnZXRJbmZsdWVuY2VzJiYocC89dS5tb3JwaFRhcmdldEluZmx1ZW5jZXMubGVuZ3RoKTtsZXQgZDtsLmNyZWF0ZUludGVycG9sYW50LmlzSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kR0xURkN1YmljU3BsaW5lPT09ITA/KGQ9XCJDVUJJQ1NQTElORVwiLHAvPTMpOmwuZ2V0SW50ZXJwb2xhdGlvbigpPT09UGU/ZD1cIlNURVBcIjpkPVwiTElORUFSXCIsby5wdXNoKHtpbnB1dDp0aGlzLnByb2Nlc3NBY2Nlc3NvcihuZXcgVShsLnRpbWVzLGYpKSxvdXRwdXQ6dGhpcy5wcm9jZXNzQWNjZXNzb3IobmV3IFUobC52YWx1ZXMscCkpLGludGVycG9sYXRpb246ZH0pLHIucHVzaCh7c2FtcGxlcjpvLmxlbmd0aC0xLHRhcmdldDp7bm9kZTp0LmdldCh1KSxwYXRoOnd9fSl9cmV0dXJuIG4uYW5pbWF0aW9ucy5wdXNoKHtuYW1lOmUubmFtZXx8XCJjbGlwX1wiK24uYW5pbWF0aW9ucy5sZW5ndGgsc2FtcGxlcnM6byxjaGFubmVsczpyfSksbi5hbmltYXRpb25zLmxlbmd0aC0xfXByb2Nlc3NTa2luKGUpe2xldCBzPXRoaXMuanNvbixuPXRoaXMubm9kZU1hcCx0PXMubm9kZXNbbi5nZXQoZSldLGk9ZS5za2VsZXRvbjtpZihpPT09dm9pZCAwKXJldHVybiBudWxsO2xldCByPWUuc2tlbGV0b24uYm9uZXNbMF07aWYocj09PXZvaWQgMClyZXR1cm4gbnVsbDtsZXQgbz1bXSxhPW5ldyBGbG9hdDMyQXJyYXkoaS5ib25lcy5sZW5ndGgqMTYpLGw9bmV3IFY7Zm9yKGxldCB1PTA7dTxpLmJvbmVzLmxlbmd0aDsrK3Upby5wdXNoKG4uZ2V0KGkuYm9uZXNbdV0pKSxsLmNvcHkoaS5ib25lSW52ZXJzZXNbdV0pLGwubXVsdGlwbHkoZS5iaW5kTWF0cml4KS50b0FycmF5KGEsdSoxNik7cmV0dXJuIHMuc2tpbnM9PT12b2lkIDAmJihzLnNraW5zPVtdKSxzLnNraW5zLnB1c2goe2ludmVyc2VCaW5kTWF0cmljZXM6dGhpcy5wcm9jZXNzQWNjZXNzb3IobmV3IFUoYSwxNikpLGpvaW50czpvLHNrZWxldG9uOm4uZ2V0KHIpfSksdC5za2luPXMuc2tpbnMubGVuZ3RoLTF9YXN5bmMgcHJvY2Vzc05vZGVBc3luYyhlKXtsZXQgcz10aGlzLmpzb24sbj10aGlzLm9wdGlvbnMsdD10aGlzLm5vZGVNYXA7cy5ub2Rlc3x8KHMubm9kZXM9W10pO2xldCBpPXt9O2lmKG4udHJzKXtsZXQgbz1lLnF1YXRlcm5pb24udG9BcnJheSgpLGE9ZS5wb3NpdGlvbi50b0FycmF5KCksbD1lLnNjYWxlLnRvQXJyYXkoKTtCKG8sWzAsMCwwLDFdKXx8KGkucm90YXRpb249byksQihhLFswLDAsMF0pfHwoaS50cmFuc2xhdGlvbj1hKSxCKGwsWzEsMSwxXSl8fChpLnNjYWxlPWwpfWVsc2UgZS5tYXRyaXhBdXRvVXBkYXRlJiZlLnVwZGF0ZU1hdHJpeCgpLGlzKGUubWF0cml4KT09PSExJiYoaS5tYXRyaXg9ZS5tYXRyaXguZWxlbWVudHMpO2lmKGUubmFtZSE9PVwiXCImJihpLm5hbWU9U3RyaW5nKGUubmFtZSkpLHRoaXMuc2VyaWFsaXplVXNlckRhdGEoZSxpKSxlLmlzTWVzaHx8ZS5pc0xpbmV8fGUuaXNQb2ludHMpe2xldCBvPWF3YWl0IHRoaXMucHJvY2Vzc01lc2hBc3luYyhlKTtvIT09bnVsbCYmKGkubWVzaD1vKX1lbHNlIGUuaXNDYW1lcmEmJihpLmNhbWVyYT10aGlzLnByb2Nlc3NDYW1lcmEoZSkpO2lmKGUuaXNTa2lubmVkTWVzaCYmdGhpcy5za2lucy5wdXNoKGUpLGUuY2hpbGRyZW4ubGVuZ3RoPjApe2xldCBvPVtdO2ZvcihsZXQgYT0wLGw9ZS5jaGlsZHJlbi5sZW5ndGg7YTxsO2ErKyl7bGV0IGg9ZS5jaGlsZHJlblthXTtpZihoLnZpc2libGV8fG4ub25seVZpc2libGU9PT0hMSl7bGV0IHU9YXdhaXQgdGhpcy5wcm9jZXNzTm9kZUFzeW5jKGgpO3UhPT1udWxsJiZvLnB1c2godSl9fW8ubGVuZ3RoPjAmJihpLmNoaWxkcmVuPW8pfWF3YWl0IHRoaXMuX2ludm9rZUFsbEFzeW5jKGZ1bmN0aW9uKG8pe28ud3JpdGVOb2RlJiZvLndyaXRlTm9kZShlLGkpfSk7bGV0IHI9cy5ub2Rlcy5wdXNoKGkpLTE7cmV0dXJuIHQuc2V0KGUscikscn1hc3luYyBwcm9jZXNzU2NlbmVBc3luYyhlKXtsZXQgcz10aGlzLmpzb24sbj10aGlzLm9wdGlvbnM7cy5zY2VuZXN8fChzLnNjZW5lcz1bXSxzLnNjZW5lPTApO2xldCB0PXt9O2UubmFtZSE9PVwiXCImJih0Lm5hbWU9ZS5uYW1lKSxzLnNjZW5lcy5wdXNoKHQpO2xldCBpPVtdO2ZvcihsZXQgcj0wLG89ZS5jaGlsZHJlbi5sZW5ndGg7cjxvO3IrKyl7bGV0IGE9ZS5jaGlsZHJlbltyXTtpZihhLnZpc2libGV8fG4ub25seVZpc2libGU9PT0hMSl7bGV0IGw9YXdhaXQgdGhpcy5wcm9jZXNzTm9kZUFzeW5jKGEpO2whPT1udWxsJiZpLnB1c2gobCl9fWkubGVuZ3RoPjAmJih0Lm5vZGVzPWkpLHRoaXMuc2VyaWFsaXplVXNlckRhdGEoZSx0KX1hc3luYyBwcm9jZXNzT2JqZWN0c0FzeW5jKGUpe2xldCBzPW5ldyBHO3MubmFtZT1cIkF1eFNjZW5lXCI7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspcy5jaGlsZHJlbi5wdXNoKGVbbl0pO2F3YWl0IHRoaXMucHJvY2Vzc1NjZW5lQXN5bmMocyl9YXN5bmMgcHJvY2Vzc0lucHV0QXN5bmMoZSl7bGV0IHM9dGhpcy5vcHRpb25zO2U9ZSBpbnN0YW5jZW9mIEFycmF5P2U6W2VdLGF3YWl0IHRoaXMuX2ludm9rZUFsbEFzeW5jKGZ1bmN0aW9uKHQpe3QuYmVmb3JlUGFyc2UmJnQuYmVmb3JlUGFyc2UoZSl9KTtsZXQgbj1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdaW5zdGFuY2VvZiBHP2F3YWl0IHRoaXMucHJvY2Vzc1NjZW5lQXN5bmMoZVt0XSk6bi5wdXNoKGVbdF0pO24ubGVuZ3RoPjAmJmF3YWl0IHRoaXMucHJvY2Vzc09iamVjdHNBc3luYyhuKTtmb3IobGV0IHQ9MDt0PHRoaXMuc2tpbnMubGVuZ3RoOysrdCl0aGlzLnByb2Nlc3NTa2luKHRoaXMuc2tpbnNbdF0pO2ZvcihsZXQgdD0wO3Q8cy5hbmltYXRpb25zLmxlbmd0aDsrK3QpdGhpcy5wcm9jZXNzQW5pbWF0aW9uKHMuYW5pbWF0aW9uc1t0XSxlWzBdKTthd2FpdCB0aGlzLl9pbnZva2VBbGxBc3luYyhmdW5jdGlvbih0KXt0LmFmdGVyUGFyc2UmJnQuYWZ0ZXJQYXJzZShlKX0pfWFzeW5jIF9pbnZva2VBbGxBc3luYyhlKXtmb3IobGV0IHM9MCxuPXRoaXMucGx1Z2lucy5sZW5ndGg7czxuO3MrKylhd2FpdCBlKHRoaXMucGx1Z2luc1tzXSl9fTtUKGNlLFwiR0xURldyaXRlclwiKTt2YXIgaj1jZSx1ZT1jbGFzcyB1ZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9saWdodHNfcHVuY3R1YWxcIn13cml0ZU5vZGUoZSxzKXtpZighZS5pc0xpZ2h0KXJldHVybjtpZighZS5pc0RpcmVjdGlvbmFsTGlnaHQmJiFlLmlzUG9pbnRMaWdodCYmIWUuaXNTcG90TGlnaHQpe2NvbnNvbGUud2FybihcIlRIUkVFLkdMVEZFeHBvcnRlcjogT25seSBkaXJlY3Rpb25hbCwgcG9pbnQsIGFuZCBzcG90IGxpZ2h0cyBhcmUgc3VwcG9ydGVkLlwiLGUpO3JldHVybn1sZXQgbj10aGlzLndyaXRlcix0PW4uanNvbixpPW4uZXh0ZW5zaW9uc1VzZWQscj17fTtlLm5hbWUmJihyLm5hbWU9ZS5uYW1lKSxyLmNvbG9yPWUuY29sb3IudG9BcnJheSgpLHIuaW50ZW5zaXR5PWUuaW50ZW5zaXR5LGUuaXNEaXJlY3Rpb25hbExpZ2h0P3IudHlwZT1cImRpcmVjdGlvbmFsXCI6ZS5pc1BvaW50TGlnaHQ/KHIudHlwZT1cInBvaW50XCIsZS5kaXN0YW5jZT4wJiYoci5yYW5nZT1lLmRpc3RhbmNlKSk6ZS5pc1Nwb3RMaWdodCYmKHIudHlwZT1cInNwb3RcIixlLmRpc3RhbmNlPjAmJihyLnJhbmdlPWUuZGlzdGFuY2UpLHIuc3BvdD17fSxyLnNwb3QuaW5uZXJDb25lQW5nbGU9KDEtZS5wZW51bWJyYSkqZS5hbmdsZSxyLnNwb3Qub3V0ZXJDb25lQW5nbGU9ZS5hbmdsZSksZS5kZWNheSE9PXZvaWQgMCYmZS5kZWNheSE9PTImJmNvbnNvbGUud2FybihcIlRIUkVFLkdMVEZFeHBvcnRlcjogTGlnaHQgZGVjYXkgbWF5IGJlIGxvc3QuIGdsVEYgaXMgcGh5c2ljYWxseS1iYXNlZCwgYW5kIGV4cGVjdHMgbGlnaHQuZGVjYXk9Mi5cIiksZS50YXJnZXQmJihlLnRhcmdldC5wYXJlbnQhPT1lfHxlLnRhcmdldC5wb3NpdGlvbi54IT09MHx8ZS50YXJnZXQucG9zaXRpb24ueSE9PTB8fGUudGFyZ2V0LnBvc2l0aW9uLnohPT0tMSkmJmNvbnNvbGUud2FybihcIlRIUkVFLkdMVEZFeHBvcnRlcjogTGlnaHQgZGlyZWN0aW9uIG1heSBiZSBsb3N0LiBGb3IgYmVzdCByZXN1bHRzLCBtYWtlIGxpZ2h0LnRhcmdldCBhIGNoaWxkIG9mIHRoZSBsaWdodCB3aXRoIHBvc2l0aW9uIDAsMCwtMS5cIiksaVt0aGlzLm5hbWVdfHwodC5leHRlbnNpb25zPXQuZXh0ZW5zaW9uc3x8e30sdC5leHRlbnNpb25zW3RoaXMubmFtZV09e2xpZ2h0czpbXX0saVt0aGlzLm5hbWVdPSEwKTtsZXQgbz10LmV4dGVuc2lvbnNbdGhpcy5uYW1lXS5saWdodHM7by5wdXNoKHIpLHMuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPXtsaWdodDpvLmxlbmd0aC0xfX19O1QodWUsXCJHTFRGTGlnaHRFeHRlbnNpb25cIik7dmFyIHE9dWUsbGU9Y2xhc3MgbGV7Y29uc3RydWN0b3IoZSl7dGhpcy53cml0ZXI9ZSx0aGlzLm5hbWU9XCJLSFJfbWF0ZXJpYWxzX3VubGl0XCJ9YXN5bmMgd3JpdGVNYXRlcmlhbEFzeW5jKGUscyl7aWYoIWUuaXNNZXNoQmFzaWNNYXRlcmlhbClyZXR1cm47bGV0IHQ9dGhpcy53cml0ZXIuZXh0ZW5zaW9uc1VzZWQ7cy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09e30sdFt0aGlzLm5hbWVdPSEwLHMucGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3I9MCxzLnBick1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3Rvcj0uOX19O1QobGUsXCJHTFRGTWF0ZXJpYWxzVW5saXRFeHRlbnNpb25cIik7dmFyIFg9bGUsZmU9Y2xhc3MgZmV7Y29uc3RydWN0b3IoZSl7dGhpcy53cml0ZXI9ZSx0aGlzLm5hbWU9XCJLSFJfbWF0ZXJpYWxzX2NsZWFyY29hdFwifWFzeW5jIHdyaXRlTWF0ZXJpYWxBc3luYyhlLHMpe2lmKCFlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWx8fGUuY2xlYXJjb2F0PT09MClyZXR1cm47bGV0IG49dGhpcy53cml0ZXIsdD1uLmV4dGVuc2lvbnNVc2VkLGk9e307aWYoaS5jbGVhcmNvYXRGYWN0b3I9ZS5jbGVhcmNvYXQsZS5jbGVhcmNvYXRNYXApe2xldCByPXtpbmRleDphd2FpdCBuLnByb2Nlc3NUZXh0dXJlQXN5bmMoZS5jbGVhcmNvYXRNYXApLHRleENvb3JkOmUuY2xlYXJjb2F0TWFwLmNoYW5uZWx9O24uYXBwbHlUZXh0dXJlVHJhbnNmb3JtKHIsZS5jbGVhcmNvYXRNYXApLGkuY2xlYXJjb2F0VGV4dHVyZT1yfWlmKGkuY2xlYXJjb2F0Um91Z2huZXNzRmFjdG9yPWUuY2xlYXJjb2F0Um91Z2huZXNzLGUuY2xlYXJjb2F0Um91Z2huZXNzTWFwKXtsZXQgcj17aW5kZXg6YXdhaXQgbi5wcm9jZXNzVGV4dHVyZUFzeW5jKGUuY2xlYXJjb2F0Um91Z2huZXNzTWFwKSx0ZXhDb29yZDplLmNsZWFyY29hdFJvdWdobmVzc01hcC5jaGFubmVsfTtuLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShyLGUuY2xlYXJjb2F0Um91Z2huZXNzTWFwKSxpLmNsZWFyY29hdFJvdWdobmVzc1RleHR1cmU9cn1pZihlLmNsZWFyY29hdE5vcm1hbE1hcCl7bGV0IHI9e2luZGV4OmF3YWl0IG4ucHJvY2Vzc1RleHR1cmVBc3luYyhlLmNsZWFyY29hdE5vcm1hbE1hcCksdGV4Q29vcmQ6ZS5jbGVhcmNvYXROb3JtYWxNYXAuY2hhbm5lbH07ZS5jbGVhcmNvYXROb3JtYWxTY2FsZS54IT09MSYmKHIuc2NhbGU9ZS5jbGVhcmNvYXROb3JtYWxTY2FsZS54KSxuLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShyLGUuY2xlYXJjb2F0Tm9ybWFsTWFwKSxpLmNsZWFyY29hdE5vcm1hbFRleHR1cmU9cn1zLmV4dGVuc2lvbnM9cy5leHRlbnNpb25zfHx7fSxzLmV4dGVuc2lvbnNbdGhpcy5uYW1lXT1pLHRbdGhpcy5uYW1lXT0hMH19O1QoZmUsXCJHTFRGTWF0ZXJpYWxzQ2xlYXJjb2F0RXh0ZW5zaW9uXCIpO3ZhciBXPWZlLGhlPWNsYXNzIGhle2NvbnN0cnVjdG9yKGUpe3RoaXMud3JpdGVyPWUsdGhpcy5uYW1lPVwiS0hSX21hdGVyaWFsc19kaXNwZXJzaW9uXCJ9YXN5bmMgd3JpdGVNYXRlcmlhbEFzeW5jKGUscyl7aWYoIWUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbHx8ZS5kaXNwZXJzaW9uPT09MClyZXR1cm47bGV0IHQ9dGhpcy53cml0ZXIuZXh0ZW5zaW9uc1VzZWQsaT17fTtpLmRpc3BlcnNpb249ZS5kaXNwZXJzaW9uLHMuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPWksdFt0aGlzLm5hbWVdPSEwfX07VChoZSxcIkdMVEZNYXRlcmlhbHNEaXNwZXJzaW9uRXh0ZW5zaW9uXCIpO3ZhciBKPWhlLHBlPWNsYXNzIHBle2NvbnN0cnVjdG9yKGUpe3RoaXMud3JpdGVyPWUsdGhpcy5uYW1lPVwiS0hSX21hdGVyaWFsc19pcmlkZXNjZW5jZVwifWFzeW5jIHdyaXRlTWF0ZXJpYWxBc3luYyhlLHMpe2lmKCFlLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWx8fGUuaXJpZGVzY2VuY2U9PT0wKXJldHVybjtsZXQgbj10aGlzLndyaXRlcix0PW4uZXh0ZW5zaW9uc1VzZWQsaT17fTtpZihpLmlyaWRlc2NlbmNlRmFjdG9yPWUuaXJpZGVzY2VuY2UsZS5pcmlkZXNjZW5jZU1hcCl7bGV0IHI9e2luZGV4OmF3YWl0IG4ucHJvY2Vzc1RleHR1cmVBc3luYyhlLmlyaWRlc2NlbmNlTWFwKSx0ZXhDb29yZDplLmlyaWRlc2NlbmNlTWFwLmNoYW5uZWx9O24uYXBwbHlUZXh0dXJlVHJhbnNmb3JtKHIsZS5pcmlkZXNjZW5jZU1hcCksaS5pcmlkZXNjZW5jZVRleHR1cmU9cn1pZihpLmlyaWRlc2NlbmNlSW9yPWUuaXJpZGVzY2VuY2VJT1IsaS5pcmlkZXNjZW5jZVRoaWNrbmVzc01pbmltdW09ZS5pcmlkZXNjZW5jZVRoaWNrbmVzc1JhbmdlWzBdLGkuaXJpZGVzY2VuY2VUaGlja25lc3NNYXhpbXVtPWUuaXJpZGVzY2VuY2VUaGlja25lc3NSYW5nZVsxXSxlLmlyaWRlc2NlbmNlVGhpY2tuZXNzTWFwKXtsZXQgcj17aW5kZXg6YXdhaXQgbi5wcm9jZXNzVGV4dHVyZUFzeW5jKGUuaXJpZGVzY2VuY2VUaGlja25lc3NNYXApLHRleENvb3JkOmUuaXJpZGVzY2VuY2VUaGlja25lc3NNYXAuY2hhbm5lbH07bi5hcHBseVRleHR1cmVUcmFuc2Zvcm0ocixlLmlyaWRlc2NlbmNlVGhpY2tuZXNzTWFwKSxpLmlyaWRlc2NlbmNlVGhpY2tuZXNzVGV4dHVyZT1yfXMuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPWksdFt0aGlzLm5hbWVdPSEwfX07VChwZSxcIkdMVEZNYXRlcmlhbHNJcmlkZXNjZW5jZUV4dGVuc2lvblwiKTt2YXIgWj1wZSxkZT1jbGFzcyBkZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9tYXRlcmlhbHNfdHJhbnNtaXNzaW9uXCJ9YXN5bmMgd3JpdGVNYXRlcmlhbEFzeW5jKGUscyl7aWYoIWUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbHx8ZS50cmFuc21pc3Npb249PT0wKXJldHVybjtsZXQgbj10aGlzLndyaXRlcix0PW4uZXh0ZW5zaW9uc1VzZWQsaT17fTtpZihpLnRyYW5zbWlzc2lvbkZhY3Rvcj1lLnRyYW5zbWlzc2lvbixlLnRyYW5zbWlzc2lvbk1hcCl7bGV0IHI9e2luZGV4OmF3YWl0IG4ucHJvY2Vzc1RleHR1cmVBc3luYyhlLnRyYW5zbWlzc2lvbk1hcCksdGV4Q29vcmQ6ZS50cmFuc21pc3Npb25NYXAuY2hhbm5lbH07bi5hcHBseVRleHR1cmVUcmFuc2Zvcm0ocixlLnRyYW5zbWlzc2lvbk1hcCksaS50cmFuc21pc3Npb25UZXh0dXJlPXJ9cy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKGRlLFwiR0xURk1hdGVyaWFsc1RyYW5zbWlzc2lvbkV4dGVuc2lvblwiKTt2YXIgUT1kZSx4ZT1jbGFzcyB4ZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9tYXRlcmlhbHNfdm9sdW1lXCJ9YXN5bmMgd3JpdGVNYXRlcmlhbEFzeW5jKGUscyl7aWYoIWUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbHx8ZS50cmFuc21pc3Npb249PT0wKXJldHVybjtsZXQgbj10aGlzLndyaXRlcix0PW4uZXh0ZW5zaW9uc1VzZWQsaT17fTtpZihpLnRoaWNrbmVzc0ZhY3Rvcj1lLnRoaWNrbmVzcyxlLnRoaWNrbmVzc01hcCl7bGV0IHI9e2luZGV4OmF3YWl0IG4ucHJvY2Vzc1RleHR1cmVBc3luYyhlLnRoaWNrbmVzc01hcCksdGV4Q29vcmQ6ZS50aGlja25lc3NNYXAuY2hhbm5lbH07bi5hcHBseVRleHR1cmVUcmFuc2Zvcm0ocixlLnRoaWNrbmVzc01hcCksaS50aGlja25lc3NUZXh0dXJlPXJ9ZS5hdHRlbnVhdGlvbkRpc3RhbmNlIT09MS8wJiYoaS5hdHRlbnVhdGlvbkRpc3RhbmNlPWUuYXR0ZW51YXRpb25EaXN0YW5jZSksaS5hdHRlbnVhdGlvbkNvbG9yPWUuYXR0ZW51YXRpb25Db2xvci50b0FycmF5KCkscy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKHhlLFwiR0xURk1hdGVyaWFsc1ZvbHVtZUV4dGVuc2lvblwiKTt2YXIgJD14ZSx5ZT1jbGFzcyB5ZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9tYXRlcmlhbHNfaW9yXCJ9YXN5bmMgd3JpdGVNYXRlcmlhbEFzeW5jKGUscyl7aWYoIWUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbHx8ZS5pb3I9PT0xLjUpcmV0dXJuO2xldCB0PXRoaXMud3JpdGVyLmV4dGVuc2lvbnNVc2VkLGk9e307aS5pb3I9ZS5pb3Iscy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKHllLFwiR0xURk1hdGVyaWFsc0lvckV4dGVuc2lvblwiKTt2YXIgZWU9eWUsZ2U9Y2xhc3MgZ2V7Y29uc3RydWN0b3IoZSl7dGhpcy53cml0ZXI9ZSx0aGlzLm5hbWU9XCJLSFJfbWF0ZXJpYWxzX3NwZWN1bGFyXCJ9YXN5bmMgd3JpdGVNYXRlcmlhbEFzeW5jKGUscyl7aWYoIWUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbHx8ZS5zcGVjdWxhckludGVuc2l0eT09PTEmJmUuc3BlY3VsYXJDb2xvci5lcXVhbHMoUWUpJiYhZS5zcGVjdWxhckludGVuc2l0eU1hcCYmIWUuc3BlY3VsYXJDb2xvck1hcClyZXR1cm47bGV0IG49dGhpcy53cml0ZXIsdD1uLmV4dGVuc2lvbnNVc2VkLGk9e307aWYoZS5zcGVjdWxhckludGVuc2l0eU1hcCl7bGV0IHI9e2luZGV4OmF3YWl0IG4ucHJvY2Vzc1RleHR1cmVBc3luYyhlLnNwZWN1bGFySW50ZW5zaXR5TWFwKSx0ZXhDb29yZDplLnNwZWN1bGFySW50ZW5zaXR5TWFwLmNoYW5uZWx9O24uYXBwbHlUZXh0dXJlVHJhbnNmb3JtKHIsZS5zcGVjdWxhckludGVuc2l0eU1hcCksaS5zcGVjdWxhclRleHR1cmU9cn1pZihlLnNwZWN1bGFyQ29sb3JNYXApe2xldCByPXtpbmRleDphd2FpdCBuLnByb2Nlc3NUZXh0dXJlQXN5bmMoZS5zcGVjdWxhckNvbG9yTWFwKSx0ZXhDb29yZDplLnNwZWN1bGFyQ29sb3JNYXAuY2hhbm5lbH07bi5hcHBseVRleHR1cmVUcmFuc2Zvcm0ocixlLnNwZWN1bGFyQ29sb3JNYXApLGkuc3BlY3VsYXJDb2xvclRleHR1cmU9cn1pLnNwZWN1bGFyRmFjdG9yPWUuc3BlY3VsYXJJbnRlbnNpdHksaS5zcGVjdWxhckNvbG9yRmFjdG9yPWUuc3BlY3VsYXJDb2xvci50b0FycmF5KCkscy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKGdlLFwiR0xURk1hdGVyaWFsc1NwZWN1bGFyRXh0ZW5zaW9uXCIpO3ZhciBzZT1nZSx3ZT1jbGFzcyB3ZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIktIUl9tYXRlcmlhbHNfc2hlZW5cIn1hc3luYyB3cml0ZU1hdGVyaWFsQXN5bmMoZSxzKXtpZighZS5pc01lc2hQaHlzaWNhbE1hdGVyaWFsfHxlLnNoZWVuPT0wKXJldHVybjtsZXQgbj10aGlzLndyaXRlcix0PW4uZXh0ZW5zaW9uc1VzZWQsaT17fTtpZihlLnNoZWVuUm91Z2huZXNzTWFwKXtsZXQgcj17aW5kZXg6YXdhaXQgbi5wcm9jZXNzVGV4dHVyZUFzeW5jKGUuc2hlZW5Sb3VnaG5lc3NNYXApLHRleENvb3JkOmUuc2hlZW5Sb3VnaG5lc3NNYXAuY2hhbm5lbH07bi5hcHBseVRleHR1cmVUcmFuc2Zvcm0ocixlLnNoZWVuUm91Z2huZXNzTWFwKSxpLnNoZWVuUm91Z2huZXNzVGV4dHVyZT1yfWlmKGUuc2hlZW5Db2xvck1hcCl7bGV0IHI9e2luZGV4OmF3YWl0IG4ucHJvY2Vzc1RleHR1cmVBc3luYyhlLnNoZWVuQ29sb3JNYXApLHRleENvb3JkOmUuc2hlZW5Db2xvck1hcC5jaGFubmVsfTtuLmFwcGx5VGV4dHVyZVRyYW5zZm9ybShyLGUuc2hlZW5Db2xvck1hcCksaS5zaGVlbkNvbG9yVGV4dHVyZT1yfWkuc2hlZW5Sb3VnaG5lc3NGYWN0b3I9ZS5zaGVlblJvdWdobmVzcyxpLnNoZWVuQ29sb3JGYWN0b3I9ZS5zaGVlbkNvbG9yLnRvQXJyYXkoKSxzLmV4dGVuc2lvbnM9cy5leHRlbnNpb25zfHx7fSxzLmV4dGVuc2lvbnNbdGhpcy5uYW1lXT1pLHRbdGhpcy5uYW1lXT0hMH19O1Qod2UsXCJHTFRGTWF0ZXJpYWxzU2hlZW5FeHRlbnNpb25cIik7dmFyIHRlPXdlLFRlPWNsYXNzIFRle2NvbnN0cnVjdG9yKGUpe3RoaXMud3JpdGVyPWUsdGhpcy5uYW1lPVwiS0hSX21hdGVyaWFsc19hbmlzb3Ryb3B5XCJ9YXN5bmMgd3JpdGVNYXRlcmlhbEFzeW5jKGUscyl7aWYoIWUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbHx8ZS5hbmlzb3Ryb3B5PT0wKXJldHVybjtsZXQgbj10aGlzLndyaXRlcix0PW4uZXh0ZW5zaW9uc1VzZWQsaT17fTtpZihlLmFuaXNvdHJvcHlNYXApe2xldCByPXtpbmRleDphd2FpdCBuLnByb2Nlc3NUZXh0dXJlQXN5bmMoZS5hbmlzb3Ryb3B5TWFwKX07bi5hcHBseVRleHR1cmVUcmFuc2Zvcm0ocixlLmFuaXNvdHJvcHlNYXApLGkuYW5pc290cm9weVRleHR1cmU9cn1pLmFuaXNvdHJvcHlTdHJlbmd0aD1lLmFuaXNvdHJvcHksaS5hbmlzb3Ryb3B5Um90YXRpb249ZS5hbmlzb3Ryb3B5Um90YXRpb24scy5leHRlbnNpb25zPXMuZXh0ZW5zaW9uc3x8e30scy5leHRlbnNpb25zW3RoaXMubmFtZV09aSx0W3RoaXMubmFtZV09ITB9fTtUKFRlLFwiR0xURk1hdGVyaWFsc0FuaXNvdHJvcHlFeHRlbnNpb25cIik7dmFyIG5lPVRlLEFlPWNsYXNzIEFle2NvbnN0cnVjdG9yKGUpe3RoaXMud3JpdGVyPWUsdGhpcy5uYW1lPVwiS0hSX21hdGVyaWFsc19lbWlzc2l2ZV9zdHJlbmd0aFwifWFzeW5jIHdyaXRlTWF0ZXJpYWxBc3luYyhlLHMpe2lmKCFlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fGUuZW1pc3NpdmVJbnRlbnNpdHk9PT0xKXJldHVybjtsZXQgdD10aGlzLndyaXRlci5leHRlbnNpb25zVXNlZCxpPXt9O2kuZW1pc3NpdmVTdHJlbmd0aD1lLmVtaXNzaXZlSW50ZW5zaXR5LHMuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPWksdFt0aGlzLm5hbWVdPSEwfX07VChBZSxcIkdMVEZNYXRlcmlhbHNFbWlzc2l2ZVN0cmVuZ3RoRXh0ZW5zaW9uXCIpO3ZhciBpZT1BZSxtZT1jbGFzcyBtZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIkVYVF9tYXRlcmlhbHNfYnVtcFwifWFzeW5jIHdyaXRlTWF0ZXJpYWxBc3luYyhlLHMpe2lmKCFlLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWx8fGUuYnVtcFNjYWxlPT09MSYmIWUuYnVtcE1hcClyZXR1cm47bGV0IG49dGhpcy53cml0ZXIsdD1uLmV4dGVuc2lvbnNVc2VkLGk9e307aWYoZS5idW1wTWFwKXtsZXQgcj17aW5kZXg6YXdhaXQgbi5wcm9jZXNzVGV4dHVyZUFzeW5jKGUuYnVtcE1hcCksdGV4Q29vcmQ6ZS5idW1wTWFwLmNoYW5uZWx9O24uYXBwbHlUZXh0dXJlVHJhbnNmb3JtKHIsZS5idW1wTWFwKSxpLmJ1bXBUZXh0dXJlPXJ9aS5idW1wRmFjdG9yPWUuYnVtcFNjYWxlLHMuZXh0ZW5zaW9ucz1zLmV4dGVuc2lvbnN8fHt9LHMuZXh0ZW5zaW9uc1t0aGlzLm5hbWVdPWksdFt0aGlzLm5hbWVdPSEwfX07VChtZSxcIkdMVEZNYXRlcmlhbHNCdW1wRXh0ZW5zaW9uXCIpO3ZhciByZT1tZSxNZT1jbGFzcyBNZXtjb25zdHJ1Y3RvcihlKXt0aGlzLndyaXRlcj1lLHRoaXMubmFtZT1cIkVYVF9tZXNoX2dwdV9pbnN0YW5jaW5nXCJ9d3JpdGVOb2RlKGUscyl7aWYoIWUuaXNJbnN0YW5jZWRNZXNoKXJldHVybjtsZXQgbj10aGlzLndyaXRlcix0PWUsaT1uZXcgRmxvYXQzMkFycmF5KHQuY291bnQqMykscj1uZXcgRmxvYXQzMkFycmF5KHQuY291bnQqNCksbz1uZXcgRmxvYXQzMkFycmF5KHQuY291bnQqMyksYT1uZXcgVixsPW5ldyB2LGg9bmV3IFZlLHU9bmV3IHY7Zm9yKGxldCBmPTA7Zjx0LmNvdW50O2YrKyl0LmdldE1hdHJpeEF0KGYsYSksYS5kZWNvbXBvc2UobCxoLHUpLGwudG9BcnJheShpLGYqMyksaC50b0FycmF5KHIsZio0KSx1LnRvQXJyYXkobyxmKjMpO2xldCB3PXtUUkFOU0xBVElPTjpuLnByb2Nlc3NBY2Nlc3NvcihuZXcgVShpLDMpKSxST1RBVElPTjpuLnByb2Nlc3NBY2Nlc3NvcihuZXcgVShyLDQpKSxTQ0FMRTpuLnByb2Nlc3NBY2Nlc3NvcihuZXcgVShvLDMpKX07dC5pbnN0YW5jZUNvbG9yJiYody5fQ09MT1JfMD1uLnByb2Nlc3NBY2Nlc3Nvcih0Lmluc3RhbmNlQ29sb3IpKSxzLmV4dGVuc2lvbnM9cy5leHRlbnNpb25zfHx7fSxzLmV4dGVuc2lvbnNbdGhpcy5uYW1lXT17YXR0cmlidXRlczp3fSxuLmV4dGVuc2lvbnNVc2VkW3RoaXMubmFtZV09ITAsbi5leHRlbnNpb25zUmVxdWlyZWRbdGhpcy5uYW1lXT0hMH19O1QoTWUsXCJHTFRGTWVzaEdwdUluc3RhbmNpbmdcIik7dmFyIG9lPU1lO1AuVXRpbHM9e2luc2VydEtleWZyYW1lOlQoZnVuY3Rpb24oYyxlKXtsZXQgbj1jLmdldFZhbHVlU2l6ZSgpLHQ9bmV3IGMuVGltZUJ1ZmZlclR5cGUoYy50aW1lcy5sZW5ndGgrMSksaT1uZXcgYy5WYWx1ZUJ1ZmZlclR5cGUoYy52YWx1ZXMubGVuZ3RoK24pLHI9Yy5jcmVhdGVJbnRlcnBvbGFudChuZXcgYy5WYWx1ZUJ1ZmZlclR5cGUobikpLG87aWYoYy50aW1lcy5sZW5ndGg9PT0wKXt0WzBdPWU7Zm9yKGxldCBhPTA7YTxuO2ErKylpW2FdPTA7bz0wfWVsc2UgaWYoZTxjLnRpbWVzWzBdKXtpZihNYXRoLmFicyhjLnRpbWVzWzBdLWUpPC4wMDEpcmV0dXJuIDA7dFswXT1lLHQuc2V0KGMudGltZXMsMSksaS5zZXQoci5ldmFsdWF0ZShlKSwwKSxpLnNldChjLnZhbHVlcyxuKSxvPTB9ZWxzZSBpZihlPmMudGltZXNbYy50aW1lcy5sZW5ndGgtMV0pe2lmKE1hdGguYWJzKGMudGltZXNbYy50aW1lcy5sZW5ndGgtMV0tZSk8LjAwMSlyZXR1cm4gYy50aW1lcy5sZW5ndGgtMTt0W3QubGVuZ3RoLTFdPWUsdC5zZXQoYy50aW1lcywwKSxpLnNldChjLnZhbHVlcywwKSxpLnNldChyLmV2YWx1YXRlKGUpLGMudmFsdWVzLmxlbmd0aCksbz10Lmxlbmd0aC0xfWVsc2UgZm9yKGxldCBhPTA7YTxjLnRpbWVzLmxlbmd0aDthKyspe2lmKE1hdGguYWJzKGMudGltZXNbYV0tZSk8LjAwMSlyZXR1cm4gYTtpZihjLnRpbWVzW2FdPGUmJmMudGltZXNbYSsxXT5lKXt0LnNldChjLnRpbWVzLnNsaWNlKDAsYSsxKSwwKSx0W2ErMV09ZSx0LnNldChjLnRpbWVzLnNsaWNlKGErMSksYSsyKSxpLnNldChjLnZhbHVlcy5zbGljZSgwLChhKzEpKm4pLDApLGkuc2V0KHIuZXZhbHVhdGUoZSksKGErMSkqbiksaS5zZXQoYy52YWx1ZXMuc2xpY2UoKGErMSkqbiksKGErMikqbiksbz1hKzE7YnJlYWt9fXJldHVybiBjLnRpbWVzPXQsYy52YWx1ZXM9aSxvfSxcImluc2VydEtleWZyYW1lXCIpLG1lcmdlTW9ycGhUYXJnZXRUcmFja3M6VChmdW5jdGlvbihjLGUpe2xldCBzPVtdLG49e30sdD1jLnRyYWNrcztmb3IobGV0IGk9MDtpPHQubGVuZ3RoOysraSl7bGV0IHI9dFtpXSxvPXoucGFyc2VUcmFja05hbWUoci5uYW1lKSxhPXouZmluZE5vZGUoZSxvLm5vZGVOYW1lKTtpZihvLnByb3BlcnR5TmFtZSE9PVwibW9ycGhUYXJnZXRJbmZsdWVuY2VzXCJ8fG8ucHJvcGVydHlJbmRleD09PXZvaWQgMCl7cy5wdXNoKHIpO2NvbnRpbnVlfWlmKHIuY3JlYXRlSW50ZXJwb2xhbnQhPT1yLkludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlJiZyLmNyZWF0ZUludGVycG9sYW50IT09ci5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXIpe2lmKHIuY3JlYXRlSW50ZXJwb2xhbnQuaXNJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RHTFRGQ3ViaWNTcGxpbmUpdGhyb3cgbmV3IEVycm9yKFwiVEhSRUUuR0xURkV4cG9ydGVyOiBDYW5ub3QgbWVyZ2UgdHJhY2tzIHdpdGggZ2xURiBDVUJJQ1NQTElORSBpbnRlcnBvbGF0aW9uLlwiKTtjb25zb2xlLndhcm4oXCJUSFJFRS5HTFRGRXhwb3J0ZXI6IE1vcnBoIHRhcmdldCBpbnRlcnBvbGF0aW9uIG1vZGUgbm90IHlldCBzdXBwb3J0ZWQuIFVzaW5nIExJTkVBUiBpbnN0ZWFkLlwiKSxyPXIuY2xvbmUoKSxyLnNldEludGVycG9sYXRpb24oRGUpfWxldCBsPWEubW9ycGhUYXJnZXRJbmZsdWVuY2VzLmxlbmd0aCxoPWEubW9ycGhUYXJnZXREaWN0aW9uYXJ5W28ucHJvcGVydHlJbmRleF07aWYoaD09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJUSFJFRS5HTFRGRXhwb3J0ZXI6IE1vcnBoIHRhcmdldCBuYW1lIG5vdCBmb3VuZDogXCIrby5wcm9wZXJ0eUluZGV4KTtsZXQgdTtpZihuW2EudXVpZF09PT12b2lkIDApe3U9ci5jbG9uZSgpO2xldCBmPW5ldyB1LlZhbHVlQnVmZmVyVHlwZShsKnUudGltZXMubGVuZ3RoKTtmb3IobGV0IHA9MDtwPHUudGltZXMubGVuZ3RoO3ArKylmW3AqbCtoXT11LnZhbHVlc1twXTt1Lm5hbWU9KG8ubm9kZU5hbWV8fFwiXCIpK1wiLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1wiLHUudmFsdWVzPWYsblthLnV1aWRdPXUscy5wdXNoKHUpO2NvbnRpbnVlfWxldCB3PXIuY3JlYXRlSW50ZXJwb2xhbnQobmV3IHIuVmFsdWVCdWZmZXJUeXBlKDEpKTt1PW5bYS51dWlkXTtmb3IobGV0IGY9MDtmPHUudGltZXMubGVuZ3RoO2YrKyl1LnZhbHVlc1tmKmwraF09dy5ldmFsdWF0ZSh1LnRpbWVzW2ZdKTtmb3IobGV0IGY9MDtmPHIudGltZXMubGVuZ3RoO2YrKyl7bGV0IHA9dGhpcy5pbnNlcnRLZXlmcmFtZSh1LHIudGltZXNbZl0pO3UudmFsdWVzW3AqbCtoXT1yLnZhbHVlc1tmXX19cmV0dXJuIGMudHJhY2tzPXMsY30sXCJtZXJnZU1vcnBoVGFyZ2V0VHJhY2tzXCIpLHRvRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZTpUKGZ1bmN0aW9uKGMpe2xldCBlPW5ldyBVKG5ldyBGbG9hdDMyQXJyYXkoYy5jb3VudCpjLml0ZW1TaXplKSxjLml0ZW1TaXplLCExKTtpZighYy5ub3JtYWxpemVkJiYhYy5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKXJldHVybiBlLmFycmF5LnNldChjLmFycmF5KSxlO2ZvcihsZXQgcz0wLG49Yy5jb3VudDtzPG47cysrKWZvcihsZXQgdD0wO3Q8Yy5pdGVtU2l6ZTt0KyspZS5zZXRDb21wb25lbnQocyx0LGMuZ2V0Q29tcG9uZW50KHMsdCkpO3JldHVybiBlfSxcInRvRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZVwiKX07ZXhwb3J0e1AgYXMgR0xURkV4cG9ydGVyfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@mappedin/react-sdk/lib/esm/GLTFExporter-W4OR66GG.js\n"));

/***/ })

}]);